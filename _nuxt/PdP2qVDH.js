import{S as re,I as X,k as le,m as se}from"./C6gQdffp.js";import{M as ne,bQ as q,bR as Q,bS as oe,bT as ie,L as ue,S as ce,av as D,aj as $,d as O,af as Z,aa as J,a3 as fe,r as m,j as L,e as ve,aP as N,bU as W,al as k,v as T,A as j,ao as me,x,an as C,a8 as g,au as B,aR as de,b6 as pe,ad as he,t as V,z as K,as as be,Z as A,ae as ye,aw as ge,aY as U,F,ax as Se,aO as we,H as ze,o as _e,ab as G,aI as Ee,am as Re,ar as Pe,at as Le,a7 as Ae,aQ as Te,az as Ce}from"./BgcB-hOa.js";var Oe=1,He=2;function Me(e,a,r,l){var o=r.length,f=o;if(e==null)return!f;for(e=Object(e);o--;){var u=r[o];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<f;){u=r[o];var d=u[0],v=e[d],p=u[1];if(u[2]){if(v===void 0&&!(d in e))return!1}else{var n=new re,s;if(!(s===void 0?X(p,v,Oe|He,l,n):s))return!1}}return!0}function ee(e){return e===e&&!ne(e)}function Ne(e){for(var a=le(e),r=a.length;r--;){var l=a[r],o=e[l];a[r]=[l,o,ee(o)]}return a}function te(e,a){return function(r){return r==null?!1:r[e]===a&&(a!==void 0||e in Object(r))}}function ke(e){var a=Ne(e);return a.length==1&&a[0][2]?te(a[0][0],a[0][1]):function(r){return r===e||Me(r,e,a)}}var xe=1,Be=2;function De(e,a){return q(e)&&ee(a)?te(Q(e),a):function(r){var l=se(r,e);return l===void 0&&l===a?oe(r,e):X(a,l,xe|Be)}}function $e(e){return function(a){return a==null?void 0:a[e]}}function Ie(e){return function(a){return ie(a,e)}}function We(e){return q(e)?$e(Q(e)):Ie(e)}function lt(e){return typeof e=="function"?e:e==null?ue:typeof e=="object"?ce(e)?De(e[0],e[1]):ke(e):We(e)}const P=4,Ke={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ue=({move:e,size:a,bar:r})=>({[r.size]:a,transform:`translate${r.axis}(${e}%)`}),I=Symbol("scrollbarContextKey"),Fe=D({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Ge="Thumb",Ye=O({__name:"thumb",props:Fe,setup(e){const a=e,r=Z(I),l=J("scrollbar");r||fe(Ge,"can not inject scrollbar context");const o=m(),f=m(),u=m({}),d=m(!1);let v=!1,p=!1,n=he?document.onselectstart:null;const s=L(()=>Ke[a.vertical?"vertical":"horizontal"]),i=L(()=>Ue({size:a.size,move:a.move,bar:s.value})),h=L(()=>o.value[s.value.offset]**2/r.wrapElement[s.value.scrollSize]/a.ratio/f.value[s.value.offset]),b=c=>{var _;if(c.stopPropagation(),c.ctrlKey||[1,2].includes(c.button))return;(_=window.getSelection())==null||_.removeAllRanges(),w(c);const R=c.currentTarget;R&&(u.value[s.value.axis]=R[s.value.offset]-(c[s.value.client]-R.getBoundingClientRect()[s.value.direction]))},E=c=>{if(!f.value||!o.value||!r.wrapElement)return;const _=Math.abs(c.target.getBoundingClientRect()[s.value.direction]-c[s.value.client]),R=f.value[s.value.offset]/2,M=(_-R)*100*h.value/o.value[s.value.offset];r.wrapElement[s.value.scroll]=M*r.wrapElement[s.value.scrollSize]/100},w=c=>{c.stopImmediatePropagation(),v=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",y),n=document.onselectstart,document.onselectstart=()=>!1},S=c=>{if(!o.value||!f.value||v===!1)return;const _=u.value[s.value.axis];if(!_)return;const R=(o.value.getBoundingClientRect()[s.value.direction]-c[s.value.client])*-1,M=f.value[s.value.offset]-_,ae=(R-M)*100*h.value/o.value[s.value.offset];r.wrapElement[s.value.scroll]=ae*r.wrapElement[s.value.scrollSize]/100},y=()=>{v=!1,u.value[s.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",y),t(),p&&(d.value=!1)},H=()=>{p=!1,d.value=!!a.size},z=()=>{p=!0,d.value=v};ve(()=>{t(),document.removeEventListener("mouseup",y)});const t=()=>{document.onselectstart!==n&&(document.onselectstart=n)};return N(W(r,"scrollbarElement"),"mousemove",H),N(W(r,"scrollbarElement"),"mouseleave",z),(c,_)=>(T(),k(pe,{name:g(l).b("fade"),persisted:""},{default:j(()=>[me(x("div",{ref_key:"instance",ref:o,class:C([g(l).e("bar"),g(l).is(g(s).key)]),onMousedown:E},[x("div",{ref_key:"thumb",ref:f,class:C(g(l).e("thumb")),style:B(g(i)),onMousedown:b},null,38)],34),[[de,c.always||d.value]])]),_:1},8,["name"]))}});var Y=$(Ye,[["__file","thumb.vue"]]);const Xe=D({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),qe=O({__name:"bar",props:Xe,setup(e,{expose:a}){const r=e,l=Z(I),o=m(0),f=m(0),u=m(""),d=m(""),v=m(1),p=m(1);return a({handleScroll:i=>{if(i){const h=i.offsetHeight-P,b=i.offsetWidth-P;f.value=i.scrollTop*100/h*v.value,o.value=i.scrollLeft*100/b*p.value}},update:()=>{const i=l==null?void 0:l.wrapElement;if(!i)return;const h=i.offsetHeight-P,b=i.offsetWidth-P,E=h**2/i.scrollHeight,w=b**2/i.scrollWidth,S=Math.max(E,r.minSize),y=Math.max(w,r.minSize);v.value=E/(h-E)/(S/(h-S)),p.value=w/(b-w)/(y/(b-y)),d.value=S+P<h?`${S}px`:"",u.value=y+P<b?`${y}px`:""}}),(i,h)=>(T(),V(be,null,[K(Y,{move:o.value,ratio:p.value,size:u.value,always:i.always},null,8,["move","ratio","size","always"]),K(Y,{move:f.value,ratio:v.value,size:d.value,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))}});var Qe=$(qe,[["__file","bar.vue"]]);const Ze=D({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ge([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ye(["ariaLabel","ariaOrientation"])}),Je={scroll:({scrollTop:e,scrollLeft:a})=>[e,a].every(A)},je="ElScrollbar",Ve=O({name:je}),et=O({...Ve,props:Ze,emits:Je,setup(e,{expose:a,emit:r}){const l=e,o=J("scrollbar");let f,u,d=0,v=0;const p=m(),n=m(),s=m(),i=m(),h=L(()=>{const t={};return l.height&&(t.height=U(l.height)),l.maxHeight&&(t.maxHeight=U(l.maxHeight)),[l.wrapStyle,t]}),b=L(()=>[l.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!l.native}]),E=L(()=>[o.e("view"),l.viewClass]),w=()=>{var t;n.value&&((t=i.value)==null||t.handleScroll(n.value),d=n.value.scrollTop,v=n.value.scrollLeft,r("scroll",{scrollTop:n.value.scrollTop,scrollLeft:n.value.scrollLeft}))};function S(t,c){Ae(t)?n.value.scrollTo(t):A(t)&&A(c)&&n.value.scrollTo(t,c)}const y=t=>{A(t)&&(n.value.scrollTop=t)},H=t=>{A(t)&&(n.value.scrollLeft=t)},z=()=>{var t;(t=i.value)==null||t.update()};return F(()=>l.noresize,t=>{t?(f==null||f(),u==null||u()):({stop:f}=Te(s,z),u=N("resize",z))},{immediate:!0}),F(()=>[l.maxHeight,l.height],()=>{l.native||G(()=>{var t;z(),n.value&&((t=i.value)==null||t.handleScroll(n.value))})}),Se(I,we({scrollbarElement:p,wrapElement:n})),ze(()=>{n.value&&(n.value.scrollTop=d,n.value.scrollLeft=v)}),_e(()=>{l.native||G(()=>{z()})}),Ee(()=>z()),a({wrapRef:n,update:z,scrollTo:S,setScrollTop:y,setScrollLeft:H,handleScroll:w}),(t,c)=>(T(),V("div",{ref_key:"scrollbarRef",ref:p,class:C(g(o).b())},[x("div",{ref_key:"wrapRef",ref:n,class:C(g(b)),style:B(g(h)),tabindex:t.tabindex,onScroll:w},[(T(),k(Le(t.tag),{id:t.id,ref_key:"resizeRef",ref:s,class:C(g(E)),style:B(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:j(()=>[Pe(t.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),t.native?Re("v-if",!0):(T(),k(Qe,{key:0,ref_key:"barRef",ref:i,always:t.always,"min-size":t.minSize},null,8,["always","min-size"]))],2))}});var tt=$(et,[["__file","scrollbar.vue"]]);const st=Ce(tt);export{st as E,lt as b};
