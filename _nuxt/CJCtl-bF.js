import{J as So,K as Eo,L as fl,M as rn,N as Ao,O as hl,P as vl,Q as xo,R as pl,S as ml,T as Fo,U as Ro,V as qt,W as ko,X as qn,Y as Lo,Z as Mo,$ as To,a0 as gt,a1 as tt,d as ve,a2 as Ee,a3 as xe,a4 as On,r as $,j as K,e as an,a5 as It,a6 as Xn,a7 as Be,v as Q,A as te,a8 as rt,x as oe,a9 as q,aa as B,ab as Ze,ac as Xt,ad as gl,ae as it,t as ae,z as J,af as Pt,ag as Ke,ah as Nn,ai as At,aj as Ut,F as Se,ak as sn,al as bl,H as _o,o as ct,am as et,an as yl,ao as Le,ap as ye,aq as un,ar as xt,as as bn,at as cn,au as Ht,av as Xe,aw as ze,ax as De,ay as wl,az as Qn,aA as Je,aB as Ae,aC as Oo,I as Me,aD as Cl,aE as Ft,aF as Sl,aG as mt,aH as Zn,aI as In,aJ as Qt,aK as Zt,B as Ye,y as Ve,aL as No,aM as Pn,g as qe,aN as El,aO as Jn,aP as Io,aQ as Po,aR as Uo,aS as Bt,aT as Al,aU as Un,aV as vt,aW as Rt,aX as Ho,aY as $t,h as ne,D as Et,aZ as xl,a_ as $o,a$ as Bo,b0 as hn,b1 as vn,b2 as zo,b3 as Wo,b4 as Do,b5 as Vo,b6 as Ko,b7 as jo,b8 as el,b9 as Go,ba as tl,bb as Yo,bc as qo,bd as Xo,be as Qo,bf as Zo,_ as Jo,bg as er,bh as tr,bi as nr}from"./BJ4U74QN.js";import{i as dn,g as lr,S as Fl,b as Rl,k as kl,a as yn,c as or,d as Ll,e as rr,f as ar,h as sr,j as ir,l as ur,m as cr,n as Ml,u as Hn,U as Mt,o as dr,p as $n,q as fr,r as wn,s as Tl,t as Dt,v as Bn,w as hr,E as vr,x as pr,y as mr,z as gr,A as br,B as yr}from"./VBWnuYbd.js";import{E as wr}from"./D2dEMYzV.js";import{d as Jt,g as Cr,E as Sr}from"./BpiaDATT.js";/* empty css        */import{E as Wt}from"./CPsJ0_rw.js";function Er(e,o){return So(Eo(e,o,fl),e+"")}function Ar(e,o,i){if(!rn(i))return!1;var n=typeof o;return(n=="number"?dn(i)&&Ao(o,i.length):n=="string"&&o in i)?hl(i[o],e):!1}function xr(e){return Er(function(o,i){var n=-1,t=i.length,l=t>1?i[t-1]:void 0,c=t>2?i[2]:void 0;for(l=e.length>3&&typeof l=="function"?(t--,l):void 0,c&&Ar(i[0],i[1],c)&&(l=t<3?void 0:l,t=1),o=Object(o);++n<t;){var a=i[n];a&&e(o,a,n,l)}return o})}var Fr="[object Object]",Rr=Function.prototype,kr=Object.prototype,_l=Rr.toString,Lr=kr.hasOwnProperty,Mr=_l.call(Object);function Tr(e){if(!vl(e)||xo(e)!=Fr)return!1;var o=lr(e);if(o===null)return!0;var i=Lr.call(o,"constructor")&&o.constructor;return typeof i=="function"&&i instanceof i&&_l.call(i)==Mr}var _r=1,Or=2;function Nr(e,o,i,n){var t=i.length,l=t;if(e==null)return!l;for(e=Object(e);t--;){var c=i[t];if(c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++t<l;){c=i[t];var a=c[0],d=e[a],f=c[1];if(c[2]){if(d===void 0&&!(a in e))return!1}else{var r=new Fl,s;if(!(s===void 0?Rl(f,d,_r|Or,n,r):s))return!1}}return!0}function Ol(e){return e===e&&!rn(e)}function Ir(e){for(var o=kl(e),i=o.length;i--;){var n=o[i],t=e[n];o[i]=[n,t,Ol(t)]}return o}function Nl(e,o){return function(i){return i==null?!1:i[e]===o&&(o!==void 0||e in Object(i))}}function Pr(e){var o=Ir(e);return o.length==1&&o[0][2]?Nl(o[0][0],o[0][1]):function(i){return i===e||Nr(i,e,o)}}var Ur=1,Hr=2;function $r(e,o){return pl(e)&&Ol(o)?Nl(ml(e),o):function(i){var n=yn(i,e);return n===void 0&&n===o?Fo(i,e):Rl(o,n,Ur|Hr)}}function Br(e){return function(o){return o==null?void 0:o[e]}}function zr(e){return function(o){return Ro(o,e)}}function Wr(e){return pl(e)?Br(ml(e)):zr(e)}function Dr(e){return typeof e=="function"?e:e==null?fl:typeof e=="object"?qt(e)?$r(e[0],e[1]):Pr(e):Wr(e)}function Vr(e){return function(o,i,n){for(var t=-1,l=Object(o),c=n(o),a=c.length;a--;){var d=c[++t];if(i(l[d],d,l)===!1)break}return o}}var Il=Vr();function Kr(e,o){return e&&Il(e,o,kl)}function jr(e,o){return function(i,n){if(i==null)return i;if(!dn(i))return e(i,n);for(var t=i.length,l=-1,c=Object(i);++l<t&&n(c[l],l,c)!==!1;);return i}}var Gr=jr(Kr);function Cn(e,o,i){(i!==void 0&&!hl(e[o],i)||i===void 0&&!(o in e))&&ko(e,o,i)}function Yr(e){return vl(e)&&dn(e)}function Sn(e,o){if(!(o==="constructor"&&typeof e[o]=="function")&&o!="__proto__")return e[o]}function qr(e){return or(e,Ll(e))}function Xr(e,o,i,n,t,l,c){var a=Sn(e,i),d=Sn(o,i),f=c.get(d);if(f){Cn(e,i,f);return}var r=l?l(a,d,i+"",e,o,c):void 0,s=r===void 0;if(s){var u=qt(d),h=!u&&rr(d),v=!u&&!h&&ar(d);r=d,u||h||v?qt(a)?r=a:Yr(a)?r=sr(a):h?(s=!1,r=ir(d,!0)):v?(s=!1,r=ur(d,!0)):r=[]:Tr(d)||qn(d)?(r=a,qn(a)?r=qr(a):(!rn(a)||Lo(a))&&(r=cr(d))):s=!1}s&&(c.set(d,r),t(r,d,n,l,c),c.delete(d)),Cn(e,i,r)}function Pl(e,o,i,n,t){e!==o&&Il(o,function(l,c){if(t||(t=new Fl),rn(l))Xr(e,o,c,i,Pl,n,t);else{var a=n?n(Sn(e,c),l,c+"",e,o,t):void 0;a===void 0&&(a=l),Cn(e,c,a)}},Ll)}function Qr(e,o){var i=-1,n=dn(e)?Array(e.length):[];return Gr(e,function(t,l,c){n[++i]=o(t,l,c)}),n}function Zr(e,o){var i=qt(e)?Mo:Qr;return i(e,Dr(o))}function Jr(e,o){return To(Zr(e,o))}function zt(e){return e===null}var Ul=xr(function(e,o,i){Pl(e,o,i)});const Ct=4,ea={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},ta=({move:e,size:o,bar:i})=>({[i.size]:o,transform:`translate${i.axis}(${e}%)`}),zn=Symbol("scrollbarContextKey"),na=gt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),la="Thumb",oa=ve({__name:"thumb",props:na,setup(e){const o=e,i=Ee(zn),n=xe("scrollbar");i||On(la,"can not inject scrollbar context");const t=$(),l=$(),c=$({}),a=$(!1);let d=!1,f=!1,r=it?document.onselectstart:null;const s=K(()=>ea[o.vertical?"vertical":"horizontal"]),u=K(()=>ta({size:o.size,move:o.move,bar:s.value})),h=K(()=>t.value[s.value.offset]**2/i.wrapElement[s.value.scrollSize]/o.ratio/l.value[s.value.offset]),v=b=>{var x;if(b.stopPropagation(),b.ctrlKey||[1,2].includes(b.button))return;(x=window.getSelection())==null||x.removeAllRanges(),A(b);const m=b.currentTarget;m&&(c.value[s.value.axis]=m[s.value.offset]-(b[s.value.client]-m.getBoundingClientRect()[s.value.direction]))},E=b=>{if(!l.value||!t.value||!i.wrapElement)return;const x=Math.abs(b.target.getBoundingClientRect()[s.value.direction]-b[s.value.client]),m=l.value[s.value.offset]/2,g=(x-m)*100*h.value/t.value[s.value.offset];i.wrapElement[s.value.scroll]=g*i.wrapElement[s.value.scrollSize]/100},A=b=>{b.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",N),r=document.onselectstart,document.onselectstart=()=>!1},C=b=>{if(!t.value||!l.value||d===!1)return;const x=c.value[s.value.axis];if(!x)return;const m=(t.value.getBoundingClientRect()[s.value.direction]-b[s.value.client])*-1,g=l.value[s.value.offset]-x,R=(m-g)*100*h.value/t.value[s.value.offset];i.wrapElement[s.value.scroll]=R*i.wrapElement[s.value.scrollSize]/100},N=()=>{d=!1,c.value[s.value.axis]=0,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",N),y(),f&&(a.value=!1)},M=()=>{f=!1,a.value=!!o.size},p=()=>{f=!0,a.value=d};an(()=>{y(),document.removeEventListener("mouseup",N)});const y=()=>{document.onselectstart!==r&&(document.onselectstart=r)};return It(Xn(i,"scrollbarElement"),"mousemove",M),It(Xn(i,"scrollbarElement"),"mouseleave",p),(b,x)=>(Q(),Be(gl,{name:B(n).b("fade"),persisted:""},{default:te(()=>[rt(oe("div",{ref_key:"instance",ref:t,class:q([B(n).e("bar"),B(n).is(B(s).key)]),onMousedown:E},[oe("div",{ref_key:"thumb",ref:l,class:q(B(n).e("thumb")),style:Ze(B(u)),onMousedown:v},null,38)],34),[[Xt,b.always||a.value]])]),_:1},8,["name"]))}});var nl=tt(oa,[["__file","thumb.vue"]]);const ra=gt({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),aa=ve({__name:"bar",props:ra,setup(e,{expose:o}){const i=e,n=Ee(zn),t=$(0),l=$(0),c=$(""),a=$(""),d=$(1),f=$(1);return o({handleScroll:u=>{if(u){const h=u.offsetHeight-Ct,v=u.offsetWidth-Ct;l.value=u.scrollTop*100/h*d.value,t.value=u.scrollLeft*100/v*f.value}},update:()=>{const u=n==null?void 0:n.wrapElement;if(!u)return;const h=u.offsetHeight-Ct,v=u.offsetWidth-Ct,E=h**2/u.scrollHeight,A=v**2/u.scrollWidth,C=Math.max(E,i.minSize),N=Math.max(A,i.minSize);d.value=E/(h-E)/(C/(h-C)),f.value=A/(v-A)/(N/(v-N)),a.value=C+Ct<h?`${C}px`:"",c.value=N+Ct<v?`${N}px`:""}}),(u,h)=>(Q(),ae(Pt,null,[J(nl,{move:t.value,ratio:f.value,size:c.value,always:u.always},null,8,["move","ratio","size","always"]),J(nl,{move:l.value,ratio:d.value,size:a.value,vertical:"",always:u.always},null,8,["move","ratio","size","always"])],64))}});var sa=tt(aa,[["__file","bar.vue"]]);const ia=gt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:At([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Nn(["ariaLabel","ariaOrientation"])}),ua={scroll:({scrollTop:e,scrollLeft:o})=>[e,o].every(Ke)},ca="ElScrollbar",da=ve({name:ca}),fa=ve({...da,props:ia,emits:ua,setup(e,{expose:o,emit:i}){const n=e,t=xe("scrollbar");let l,c,a=0,d=0;const f=$(),r=$(),s=$(),u=$(),h=K(()=>{const y={};return n.height&&(y.height=Ut(n.height)),n.maxHeight&&(y.maxHeight=Ut(n.maxHeight)),[n.wrapStyle,y]}),v=K(()=>[n.wrapClass,t.e("wrap"),{[t.em("wrap","hidden-default")]:!n.native}]),E=K(()=>[t.e("view"),n.viewClass]),A=()=>{var y;r.value&&((y=u.value)==null||y.handleScroll(r.value),a=r.value.scrollTop,d=r.value.scrollLeft,i("scroll",{scrollTop:r.value.scrollTop,scrollLeft:r.value.scrollLeft}))};function C(y,b){xt(y)?r.value.scrollTo(y):Ke(y)&&Ke(b)&&r.value.scrollTo(y,b)}const N=y=>{Ke(y)&&(r.value.scrollTop=y)},M=y=>{Ke(y)&&(r.value.scrollLeft=y)},p=()=>{var y;(y=u.value)==null||y.update()};return Se(()=>n.noresize,y=>{y?(l==null||l(),c==null||c()):({stop:l}=bn(s,p),c=It("resize",p))},{immediate:!0}),Se(()=>[n.maxHeight,n.height],()=>{n.native||et(()=>{var y;p(),r.value&&((y=u.value)==null||y.handleScroll(r.value))})}),sn(zn,bl({scrollbarElement:f,wrapElement:r})),_o(()=>{r.value&&(r.value.scrollTop=a,r.value.scrollLeft=d)}),ct(()=>{n.native||et(()=>{p()})}),yl(()=>p()),o({wrapRef:r,update:p,scrollTo:C,setScrollTop:N,setScrollLeft:M,handleScroll:A}),(y,b)=>(Q(),ae("div",{ref_key:"scrollbarRef",ref:f,class:q(B(t).b())},[oe("div",{ref_key:"wrapRef",ref:r,class:q(B(v)),style:Ze(B(h)),tabindex:y.tabindex,onScroll:A},[(Q(),Be(un(y.tag),{id:y.id,ref_key:"resizeRef",ref:s,class:q(B(E)),style:Ze(y.viewStyle),role:y.role,"aria-label":y.ariaLabel,"aria-orientation":y.ariaOrientation},{default:te(()=>[ye(y.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),y.native?Le("v-if",!0):(Q(),Be(sa,{key:0,ref_key:"barRef",ref:u,always:y.always,"min-size":y.minSize},null,8,["always","min-size"]))],2))}});var ha=tt(fa,[["__file","scrollbar.vue"]]);const Hl=cn(ha),pn=function(e){var o;return(o=e.target)==null?void 0:o.closest("td")},va=function(e,o,i,n,t){if(!o&&!n&&(!t||Ae(t)&&!t.length))return e;ze(i)?i=i==="descending"?-1:1:i=i&&i<0?-1:1;const l=n?null:function(a,d){return t?(Ae(t)||(t=[t]),t.map(f=>ze(f)?yn(a,f):f(a,d,e))):(o!=="$key"&&xt(a)&&"$value"in a&&(a=a.$value),[xt(a)?yn(a,o):a])},c=function(a,d){if(n)return n(a.value,d.value);for(let f=0,r=a.key.length;f<r;f++){if(a.key[f]<d.key[f])return-1;if(a.key[f]>d.key[f])return 1}return 0};return e.map((a,d)=>({value:a,index:d,key:l?l(a,d):null})).sort((a,d)=>{let f=c(a,d);return f||(f=a.index-d.index),f*+i}).map(a=>a.value)},$l=function(e,o){let i=null;return e.columns.forEach(n=>{n.id===o&&(i=n)}),i},pa=function(e,o){let i=null;for(let n=0;n<e.columns.length;n++){const t=e.columns[n];if(t.columnKey===o){i=t;break}}return i||On("ElTable",`No column matching with column-key: ${o}`),i},ll=function(e,o,i){const n=(o.className||"").match(new RegExp(`${i}-table_[^\\s]+`,"gm"));return n?$l(e,n[0]):null},Oe=(e,o)=>{if(!e)throw new Error("Row is required when get row identity");if(ze(o)){if(!o.includes("."))return`${e[o]}`;const i=o.split(".");let n=e;for(const t of i)n=n[t];return`${n}`}else if(De(o))return o.call(null,e)},Ot=function(e,o){const i={};return(e||[]).forEach((n,t)=>{i[Oe(n,o)]={row:n,index:t}}),i};function ma(e,o){const i={};let n;for(n in e)i[n]=e[n];for(n in o)if(Ht(o,n)){const t=o[n];Xe(t)||(i[n]=t)}return i}function Wn(e){return e===""||Xe(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function Bl(e){return e===""||Xe(e)||(e=Wn(e),Number.isNaN(e)&&(e=80)),e}function ga(e){return Ke(e)?e:ze(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function ba(...e){return e.length===0?o=>o:e.length===1?e[0]:e.reduce((o,i)=>(...n)=>o(i(...n)))}function en(e,o,i,n,t,l){let c=l??0,a=!1;const d=e.indexOf(o),f=d!==-1,r=t==null?void 0:t.call(null,o,c),s=h=>{h==="add"?e.push(o):e.splice(d,1),a=!0},u=h=>{let v=0;const E=(n==null?void 0:n.children)&&h[n.children];return E&&Ae(E)&&(v+=E.length,E.forEach(A=>{v+=u(A)})),v};return(!t||r)&&(Je(i)?i&&!f?s("add"):!i&&f&&s("remove"):s(f?"remove":"add")),!(n!=null&&n.checkStrictly)&&(n!=null&&n.children)&&Ae(o[n.children])&&o[n.children].forEach(h=>{const v=en(e,h,i??!f,n,t,c+1);c+=u(h)+1,v&&(a=v)}),a}function ya(e,o,i="children",n="hasChildren"){const t=c=>!(Ae(c)&&c.length);function l(c,a,d){o(c,a,d),a.forEach(f=>{if(f[n]){o(f,null,d+1);return}const r=f[i];t(r)||l(f,r,d+1)})}e.forEach(c=>{if(c[n]){o(c,null,0);return}const a=c[i];t(a)||l(c,a,0)})}const wa=(e,o,i,n)=>{const t={strategy:"fixed",...e.popperOptions},l=De(n.tooltipFormatter)?n.tooltipFormatter({row:i,column:n,cellValue:Ml(i,n.property).value}):void 0;return Oo(l)?{slotContent:l,content:null,...e,popperOptions:t}:{slotContent:null,content:l??o,...e,popperOptions:t}};let He=null;function Ca(e,o,i,n,t,l){const c=wa(e,o,i,n),a={...c,slotContent:void 0};if((He==null?void 0:He.trigger)===t){const h=He.vm.component;Ul(h.props,a),c.slotContent&&(h.slots.content=()=>[c.slotContent]);return}He==null||He();const d=l==null?void 0:l.refs.tableWrapper,f=d==null?void 0:d.dataset.prefix,r=J(wl,{virtualTriggering:!0,virtualRef:t,appendTo:d,placement:"top",transition:"none",offset:0,hideAfter:0,...a},c.slotContent?{content:()=>c.slotContent}:void 0);r.appContext={...l.appContext,...l};const s=document.createElement("div");Qn(r,s),r.component.exposed.onOpen();const u=d==null?void 0:d.querySelector(`.${f}-scrollbar__wrap`);He=()=>{Qn(null,s),u==null||u.removeEventListener("scroll",He),He=null},He.trigger=t,He.vm=r,u==null||u.addEventListener("scroll",He)}function zl(e){return e.children?Jr(e.children,zl):[e]}function ol(e,o){return e+o.colSpan}const Wl=(e,o,i,n)=>{let t=0,l=e;const c=i.states.columns.value;if(n){const d=zl(n[e]);t=c.slice(0,c.indexOf(d[0])).reduce(ol,0),l=t+d.reduce(ol,0)-1}else t=e;let a;switch(o){case"left":l<i.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":t>=c.length-i.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:l<i.states.fixedLeafColumnsLength.value?a="left":t>=c.length-i.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:t,after:l}:{}},Dn=(e,o,i,n,t,l=0)=>{const c=[],{direction:a,start:d,after:f}=Wl(o,i,n,t);if(a){const r=a==="left";c.push(`${e}-fixed-column--${a}`),r&&f+l===n.states.fixedLeafColumnsLength.value-1?c.push("is-last-column"):!r&&d-l===n.states.columns.value.length-n.states.rightFixedLeafColumnsLength.value&&c.push("is-first-column")}return c};function rl(e,o){return e+(zt(o.realWidth)||Number.isNaN(o.realWidth)?Number(o.width):o.realWidth)}const Vn=(e,o,i,n)=>{const{direction:t,start:l=0,after:c=0}=Wl(e,o,i,n);if(!t)return;const a={},d=t==="left",f=i.states.columns.value;return d?a.left=f.slice(0,l).reduce(rl,0):a.right=f.slice(c+1).reverse().reduce(rl,0),a},kt=(e,o)=>{e&&(Number.isNaN(e[o])||(e[o]=`${e[o]}px`))};function Sa(e){const o=Me(),i=$(!1),n=$([]);return{updateExpandRows:()=>{const d=e.data.value||[],f=e.rowKey.value;if(i.value)n.value=d.slice();else if(f){const r=Ot(n.value,f);n.value=d.reduce((s,u)=>{const h=Oe(u,f);return r[h]&&s.push(u),s},[])}else n.value=[]},toggleRowExpansion:(d,f)=>{en(n.value,d,f)&&o.emit("expand-change",d,n.value.slice())},setExpandRowKeys:d=>{o.store.assertRowKey();const f=e.data.value||[],r=e.rowKey.value,s=Ot(f,r);n.value=d.reduce((u,h)=>{const v=s[h];return v&&u.push(v.row),u},[])},isRowExpanded:d=>{const f=e.rowKey.value;return f?!!Ot(n.value,f)[Oe(d,f)]:n.value.includes(d)},states:{expandRows:n,defaultExpandAll:i}}}function Ea(e){const o=Me(),i=$(null),n=$(null),t=f=>{o.store.assertRowKey(),i.value=f,c(f)},l=()=>{i.value=null},c=f=>{const{data:r,rowKey:s}=e;let u=null;s.value&&(u=(B(r)||[]).find(h=>Oe(h,s.value)===f)),n.value=u,o.emit("current-change",n.value,null)};return{setCurrentRowKey:t,restoreCurrentRowKey:l,setCurrentRowByKey:c,updateCurrentRow:f=>{const r=n.value;if(f&&f!==r){n.value=f,o.emit("current-change",n.value,r);return}!f&&r&&(n.value=null,o.emit("current-change",null,r))},updateCurrentRowData:()=>{const f=e.rowKey.value,r=e.data.value||[],s=n.value;if(!r.includes(s)&&s){if(f){const u=Oe(s,f);c(u)}else n.value=null;zt(n.value)&&o.emit("current-change",null,s)}else i.value&&(c(i.value),l())},states:{_currentRowKey:i,currentRow:n}}}function Aa(e){const o=$([]),i=$({}),n=$(16),t=$(!1),l=$({}),c=$("hasChildren"),a=$("children"),d=$(!1),f=Me(),r=K(()=>{if(!e.rowKey.value)return{};const p=e.data.value||[];return u(p)}),s=K(()=>{const p=e.rowKey.value,y=Object.keys(l.value),b={};return y.length&&y.forEach(x=>{if(l.value[x].length){const m={children:[]};l.value[x].forEach(g=>{const R=Oe(g,p);m.children.push(R),g[c.value]&&!b[R]&&(b[R]={children:[]})}),b[x]=m}}),b}),u=p=>{const y=e.rowKey.value,b={};return ya(p,(x,m,g)=>{const R=Oe(x,y);Ae(m)?b[R]={children:m.map(k=>Oe(k,y)),level:g}:t.value&&(b[R]={children:[],lazy:!0,level:g})},a.value,c.value),b},h=(p=!1,y=(b=>(b=f.store)==null?void 0:b.states.defaultExpandAll.value)())=>{var b;const x=r.value,m=s.value,g=Object.keys(x),R={};if(g.length){const k=B(i),L=[],_=(O,S)=>{if(p)return o.value?y||o.value.includes(S):!!(y||O!=null&&O.expanded);{const w=y||o.value&&o.value.includes(S);return!!(O!=null&&O.expanded||w)}};g.forEach(O=>{const S=k[O],w={...x[O]};if(w.expanded=_(S,O),w.lazy){const{loaded:I=!1,loading:F=!1}=S||{};w.loaded=!!I,w.loading=!!F,L.push(O)}R[O]=w});const T=Object.keys(m);t.value&&T.length&&L.length&&T.forEach(O=>{const S=k[O],w=m[O].children;if(L.includes(O)){if(R[O].children.length!==0)throw new Error("[ElTable]children must be an empty array.");R[O].children=w}else{const{loaded:I=!1,loading:F=!1}=S||{};R[O]={lazy:!0,loaded:!!I,loading:!!F,expanded:_(S,O),children:w,level:""}}})}i.value=R,(b=f.store)==null||b.updateTableScrollY()};Se(()=>o.value,()=>{h(!0)}),Se(()=>r.value,()=>{h()}),Se(()=>s.value,()=>{h()});const v=p=>{o.value=p,h()},E=p=>t.value&&p&&"loaded"in p&&!p.loaded,A=(p,y)=>{f.store.assertRowKey();const b=e.rowKey.value,x=Oe(p,b),m=x&&i.value[x];if(x&&m&&"expanded"in m){const g=m.expanded;y=Xe(y)?!m.expanded:y,i.value[x].expanded=y,g!==y&&f.emit("expand-change",p,y),E(m)&&N(p,x,m),f.store.updateTableScrollY()}},C=p=>{f.store.assertRowKey();const y=e.rowKey.value,b=Oe(p,y),x=i.value[b];E(x)?N(p,b,x):A(p,void 0)},N=(p,y,b)=>{const{load:x}=f.props;x&&!i.value[y].loaded&&(i.value[y].loading=!0,x(p,b,m=>{if(!Ae(m))throw new TypeError("[ElTable] data must be an array");i.value[y].loading=!1,i.value[y].loaded=!0,i.value[y].expanded=!0,m.length&&(l.value[y]=m),f.emit("expand-change",p,!0)}))};return{loadData:N,loadOrToggle:C,toggleTreeExpansion:A,updateTreeExpandKeys:v,updateTreeData:h,updateKeyChildren:(p,y)=>{const{lazy:b,rowKey:x}=f.props;if(b){if(!x)throw new Error("[Table] rowKey is required in updateKeyChild");l.value[p]&&(l.value[p]=y)}},normalize:u,states:{expandRowKeys:o,treeData:i,indent:n,lazy:t,lazyTreeNodeMap:l,lazyColumnIdentifier:c,childrenColumnName:a,checkStrictly:d}}}const xa=(e,o)=>{const i=o.sortingColumn;return!i||ze(i.sortable)?e:va(e,o.sortProp,o.sortOrder,i.sortMethod,i.sortBy)},Vt=e=>{const o=[];return e.forEach(i=>{i.children&&i.children.length>0?o.push.apply(o,Vt(i.children)):o.push(i)}),o};function Fa(){var e;const o=Me(),{size:i}=Cl((e=o.proxy)==null?void 0:e.$props),n=$(null),t=$([]),l=$([]),c=$(!1),a=$([]),d=$([]),f=$([]),r=$([]),s=$([]),u=$([]),h=$([]),v=$([]),E=[],A=$(0),C=$(0),N=$(0),M=$(!1),p=$([]),y=$(!1),b=$(!1),x=$(null),m=$({}),g=$(null),R=$(null),k=$(null),L=$(null),_=$(null),T=K(()=>n.value?Ot(p.value,n.value):void 0);Se(t,()=>{var V;o.state&&(I(!1),o.props.tableLayout==="auto"&&((V=o.refs.tableHeaderRef)==null||V.updateFixedColumnStyle()))},{deep:!0});const O=()=>{if(!n.value)throw new Error("[ElTable] prop row-key is required")},S=V=>{var G;(G=V.children)==null||G.forEach(Y=>{Y.fixed=V.fixed,S(Y)})},w=()=>{var V,G;a.value.forEach(de=>{S(de)}),r.value=a.value.filter(de=>de.type!=="selection"&&[!0,"left"].includes(de.fixed));let Y;if(((G=(V=a.value)==null?void 0:V[0])==null?void 0:G.type)==="selection"){const de=a.value[0];Y=[!0,"left"].includes(de.fixed)||r.value.length&&de.fixed!=="right",Y&&r.value.unshift(de)}s.value=a.value.filter(de=>de.fixed==="right");const le=a.value.filter(de=>(Y?de.type!=="selection":!0)&&!de.fixed);d.value=[].concat(r.value).concat(le).concat(s.value);const ce=Vt(le),ge=Vt(r.value),Re=Vt(s.value);A.value=ce.length,C.value=ge.length,N.value=Re.length,f.value=[].concat(ge).concat(ce).concat(Re),c.value=r.value.length>0||s.value.length>0},I=(V,G=!1)=>{V&&w(),G?o.state.doLayout():o.state.debouncedUpdateLayout()},F=V=>T.value?!!T.value[Oe(V,n.value)]:p.value.includes(V),P=()=>{M.value=!1;const V=p.value;p.value=[],V.length&&o.emit("selection-change",[])},D=()=>{let V;if(n.value){V=[];const G=Ot(t.value,n.value);for(const Y in T.value)Ht(T.value,Y)&&!G[Y]&&V.push(T.value[Y].row)}else V=p.value.filter(G=>!t.value.includes(G));if(V.length){const G=p.value.filter(Y=>!V.includes(Y));p.value=G,o.emit("selection-change",G.slice())}},z=()=>(p.value||[]).slice(),W=(V,G,Y=!0,le=!1)=>{var ce,ge,Re,de;const Pe={children:(ge=(ce=o==null?void 0:o.store)==null?void 0:ce.states)==null?void 0:ge.childrenColumnName.value,checkStrictly:(de=(Re=o==null?void 0:o.store)==null?void 0:Re.states)==null?void 0:de.checkStrictly.value};if(en(p.value,V,G,Pe,le?void 0:x.value,t.value.indexOf(V))){const We=(p.value||[]).slice();Y&&o.emit("select",We,V),o.emit("selection-change",We)}},H=()=>{var V,G;const Y=b.value?!M.value:!(M.value||p.value.length);M.value=Y;let le=!1,ce=0;const ge=(G=(V=o==null?void 0:o.store)==null?void 0:V.states)==null?void 0:G.rowKey.value,{childrenColumnName:Re}=o.store.states,de={children:Re.value,checkStrictly:!1};t.value.forEach((Pe,yt)=>{const We=yt+ce;en(p.value,Pe,Y,de,x.value,We)&&(le=!0),ce+=Z(Oe(Pe,ge))}),le&&o.emit("selection-change",p.value?p.value.slice():[]),o.emit("select-all",(p.value||[]).slice())},U=()=>{t.value.forEach(V=>{const G=Oe(V,n.value),Y=T.value[G];Y&&(p.value[Y.index]=V)})},j=()=>{var V;if(((V=t.value)==null?void 0:V.length)===0){M.value=!1;return}const{childrenColumnName:G}=o.store.states;let Y=0,le=0;const ce=Re=>{var de;for(const Pe of Re){const yt=x.value&&x.value.call(null,Pe,Y);if(F(Pe))le++;else if(!x.value||yt)return!1;if(Y++,(de=Pe[G.value])!=null&&de.length&&!ce(Pe[G.value]))return!1}return!0},ge=ce(t.value||[]);M.value=le===0?!1:ge},Z=V=>{var G;if(!o||!o.store)return 0;const{treeData:Y}=o.store.states;let le=0;const ce=(G=Y.value[V])==null?void 0:G.children;return ce&&(le+=ce.length,ce.forEach(ge=>{le+=Z(ge)})),le},ee=(V,G)=>{Ae(V)||(V=[V]);const Y={};return V.forEach(le=>{m.value[le.id]=G,Y[le.columnKey||le.id]=G}),Y},X=(V,G,Y)=>{R.value&&R.value!==V&&(R.value.order=null),R.value=V,k.value=G,L.value=Y},re=()=>{let V=B(l);Object.keys(m.value).forEach(G=>{const Y=m.value[G];if(!Y||Y.length===0)return;const le=$l({columns:f.value},G);le&&le.filterMethod&&(V=V.filter(ce=>Y.some(ge=>le.filterMethod.call(null,ge,ce,le))))}),g.value=V},fe=()=>{t.value=xa(g.value,{sortingColumn:R.value,sortProp:k.value,sortOrder:L.value})},be=(V=void 0)=>{V&&V.filter||re(),fe()},at=V=>{const{tableHeaderRef:G}=o.refs;if(!G)return;const Y=Object.assign({},G.filterPanels),le=Object.keys(Y);if(le.length)if(ze(V)&&(V=[V]),Ae(V)){const ce=V.map(ge=>pa({columns:f.value},ge));le.forEach(ge=>{const Re=ce.find(de=>de.id===ge);Re&&(Re.filteredValue=[])}),o.store.commit("filterChange",{column:ce,values:[],silent:!0,multi:!0})}else le.forEach(ce=>{const ge=f.value.find(Re=>Re.id===ce);ge&&(ge.filteredValue=[])}),m.value={},o.store.commit("filterChange",{column:{},values:[],silent:!0})},je=()=>{R.value&&(X(null,null,null),o.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:he,toggleRowExpansion:we,updateExpandRows:ue,states:se,isRowExpanded:Ce}=Sa({data:t,rowKey:n}),{updateTreeExpandKeys:ke,toggleTreeExpansion:pe,updateTreeData:Ne,updateKeyChildren:me,loadOrToggle:ie,states:Ie}=Aa({data:t,rowKey:n}),{updateCurrentRowData:lt,updateCurrentRow:bt,setCurrentRowKey:Fe,states:st}=Ea({data:t,rowKey:n});return{assertRowKey:O,updateColumns:w,scheduleLayout:I,isSelected:F,clearSelection:P,cleanSelection:D,getSelectionRows:z,toggleRowSelection:W,_toggleAllSelection:H,toggleAllSelection:null,updateSelectionByRowKey:U,updateAllSelected:j,updateFilters:ee,updateCurrentRow:bt,updateSort:X,execFilter:re,execSort:fe,execQuery:be,clearFilter:at,clearSort:je,toggleRowExpansion:we,setExpandRowKeysAdapter:V=>{he(V),ke(V)},setCurrentRowKey:Fe,toggleRowExpansionAdapter:(V,G)=>{f.value.some(({type:le})=>le==="expand")?we(V,G):pe(V,G)},isRowExpanded:Ce,updateExpandRows:ue,updateCurrentRowData:lt,loadOrToggle:ie,updateTreeData:Ne,updateKeyChildren:me,states:{tableSize:i,rowKey:n,data:t,_data:l,isComplex:c,_columns:a,originColumns:d,columns:f,fixedColumns:r,rightFixedColumns:s,leafColumns:u,fixedLeafColumns:h,rightFixedLeafColumns:v,updateOrderFns:E,leafColumnsLength:A,fixedLeafColumnsLength:C,rightFixedLeafColumnsLength:N,isAllSelected:M,selection:p,reserveSelection:y,selectOnIndeterminate:b,selectable:x,filters:m,filteredData:g,sortingColumn:R,sortProp:k,sortOrder:L,hoverRow:_,...se,...Ie,...st}}}function En(e,o){return e.map(i=>{var n;return i.id===o.id?o:((n=i.children)!=null&&n.length&&(i.children=En(i.children,o)),i)})}function An(e){e.forEach(o=>{var i,n;o.no=(i=o.getColumnIndex)==null?void 0:i.call(o),(n=o.children)!=null&&n.length&&An(o.children)}),e.sort((o,i)=>o.no-i.no)}function Ra(){const e=Me(),o=Fa();return{ns:xe("table"),...o,mutations:{setData(c,a){const d=B(c._data)!==a;c.data.value=a,c._data.value=a,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),B(c.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):d?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(c,a,d,f){const r=B(c._columns);let s=[];d?(d&&!d.children&&(d.children=[]),d.children.push(a),s=En(r,d)):(r.push(a),s=r),An(s),c._columns.value=s,c.updateOrderFns.push(f),a.type==="selection"&&(c.selectable.value=a.selectable,c.reserveSelection.value=a.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(c,a){var d;((d=a.getColumnIndex)==null?void 0:d.call(a))!==a.no&&(An(c._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(c,a,d,f){const r=B(c._columns)||[];if(d)d.children.splice(d.children.findIndex(u=>u.id===a.id),1),et(()=>{var u;((u=d.children)==null?void 0:u.length)===0&&delete d.children}),c._columns.value=En(r,d);else{const u=r.indexOf(a);u>-1&&(r.splice(u,1),c._columns.value=r)}const s=c.updateOrderFns.indexOf(f);s>-1&&c.updateOrderFns.splice(s,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(c,a){const{prop:d,order:f,init:r}=a;if(d){const s=B(c.columns).find(u=>u.property===d);s&&(s.order=f,e.store.updateSort(s,d,f),e.store.commit("changeSortCondition",{init:r}))}},changeSortCondition(c,a){const{sortingColumn:d,sortProp:f,sortOrder:r}=c,s=B(d),u=B(f),h=B(r);zt(h)&&(c.sortingColumn.value=null,c.sortProp.value=null);const v={filter:!0};e.store.execQuery(v),(!a||!(a.silent||a.init))&&e.emit("sort-change",{column:s,prop:u,order:h}),e.store.updateTableScrollY()},filterChange(c,a){const{column:d,values:f,silent:r}=a,s=e.store.updateFilters(d,f);e.store.execQuery(),r||e.emit("filter-change",s),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(c,a){e.store.toggleRowSelection(a),e.store.updateAllSelected()},setHoverRow(c,a){c.hoverRow.value=a},setCurrentRow(c,a){e.store.updateCurrentRow(a)}},commit:function(c,...a){const d=e.store.mutations;if(d[c])d[c].apply(e,[e.store.states].concat(a));else throw new Error(`Action not found: ${c}`)},updateTableScrollY:function(){et(()=>e.layout.updateScrollY.apply(e.layout))}}}const Nt={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function ka(e,o){if(!e)throw new Error("Table is required.");const i=Ra();return i.toggleAllSelection=Jt(i._toggleAllSelection,10),Object.keys(Nt).forEach(n=>{Dl(Vl(o,n),n,i)}),La(i,o),i}function La(e,o){Object.keys(Nt).forEach(i=>{Se(()=>Vl(o,i),n=>{Dl(n,i,e)})})}function Dl(e,o,i){let n=e,t=Nt[o];xt(Nt[o])&&(t=t.key,n=n||Nt[o].default),i.states[t].value=n}function Vl(e,o){if(o.includes(".")){const i=o.split(".");let n=e;return i.forEach(t=>{n=n[t]}),n}else return e[o]}class Ma{constructor(o){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=$(null),this.scrollX=$(!1),this.scrollY=$(!1),this.bodyWidth=$(null),this.fixedWidth=$(null),this.rightFixedWidth=$(null),this.gutterWidth=0;for(const i in o)Ht(o,i)&&(Ft(this[i])?this[i].value=o[i]:this[i]=o[i]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const o=this.height.value;if(zt(o))return!1;const i=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(i!=null&&i.wrapRef)){let n=!0;const t=this.scrollY.value;return n=i.wrapRef.scrollHeight>i.wrapRef.clientHeight,this.scrollY.value=n,t!==n}return!1}setHeight(o,i="height"){if(!it)return;const n=this.table.vnode.el;if(o=ga(o),this.height.value=Number(o),!n&&(o||o===0))return et(()=>this.setHeight(o,i));Ke(o)?(n.style[i]=`${o}px`,this.updateElsHeight()):ze(o)&&(n.style[i]=o,this.updateElsHeight())}setMaxHeight(o){this.setHeight(o,"max-height")}getFlattenColumns(){const o=[];return this.table.store.states.columns.value.forEach(n=>{n.isColumnGroup?o.push.apply(o,n.columns):o.push(n)}),o}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(o){if(!o)return!0;let i=o;for(;i.tagName!=="DIV";){if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}updateColumnsWidth(){if(!it)return;const o=this.fit,i=this.table.vnode.el.clientWidth;let n=0;const t=this.getFlattenColumns(),l=t.filter(d=>!Ke(d.width));if(t.forEach(d=>{Ke(d.width)&&d.realWidth&&(d.realWidth=null)}),l.length>0&&o){if(t.forEach(d=>{n+=Number(d.width||d.minWidth||80)}),n<=i){this.scrollX.value=!1;const d=i-n;if(l.length===1)l[0].realWidth=Number(l[0].minWidth||80)+d;else{const f=l.reduce((u,h)=>u+Number(h.minWidth||80),0),r=d/f;let s=0;l.forEach((u,h)=>{if(h===0)return;const v=Math.floor(Number(u.minWidth||80)*r);s+=v,u.realWidth=Number(u.minWidth||80)+v}),l[0].realWidth=Number(l[0].minWidth||80)+d-s}}else this.scrollX.value=!0,l.forEach(d=>{d.realWidth=Number(d.minWidth)});this.bodyWidth.value=Math.max(n,i),this.table.state.resizeState.value.width=this.bodyWidth.value}else t.forEach(d=>{!d.width&&!d.minWidth?d.realWidth=80:d.realWidth=Number(d.width||d.minWidth),n+=d.realWidth}),this.scrollX.value=n>i,this.bodyWidth.value=n;const c=this.store.states.fixedColumns.value;if(c.length>0){let d=0;c.forEach(f=>{d+=Number(f.realWidth||f.width)}),this.fixedWidth.value=d}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let d=0;a.forEach(f=>{d+=Number(f.realWidth||f.width)}),this.rightFixedWidth.value=d}this.notifyObservers("columns")}addObserver(o){this.observers.push(o)}removeObserver(o){const i=this.observers.indexOf(o);i!==-1&&this.observers.splice(i,1)}notifyObservers(o){this.observers.forEach(n=>{var t,l;switch(o){case"columns":(t=n.state)==null||t.onColumnsChange(this);break;case"scrollable":(l=n.state)==null||l.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${o}.`)}})}}const Kl={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Hn,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Nn(["ariaControls"])},jl={[Mt]:e=>ze(e)||Ke(e)||Je(e),change:e=>ze(e)||Ke(e)||Je(e)},Tt=Symbol("checkboxGroupContextKey"),Ta=({model:e,isChecked:o})=>{const i=Ee(Tt,void 0),n=K(()=>{var l,c;const a=(l=i==null?void 0:i.max)==null?void 0:l.value,d=(c=i==null?void 0:i.min)==null?void 0:c.value;return!Xe(a)&&e.value.length>=a&&!o.value||!Xe(d)&&e.value.length<=d&&o.value});return{isDisabled:dr(K(()=>(i==null?void 0:i.disabled.value)||n.value)),isLimitDisabled:n}},_a=(e,{model:o,isLimitExceeded:i,hasOwnLabel:n,isDisabled:t,isLabeledByFormItem:l})=>{const c=Ee(Tt,void 0),{formItem:a}=$n(),{emit:d}=Me();function f(v){var E,A,C,N;return[!0,e.trueValue,e.trueLabel].includes(v)?(A=(E=e.trueValue)!=null?E:e.trueLabel)!=null?A:!0:(N=(C=e.falseValue)!=null?C:e.falseLabel)!=null?N:!1}function r(v,E){d("change",f(v),E)}function s(v){if(i.value)return;const E=v.target;d("change",f(E.checked),v)}async function u(v){i.value||!n.value&&!t.value&&l.value&&(v.composedPath().some(C=>C.tagName==="LABEL")||(o.value=f([!1,e.falseValue,e.falseLabel].includes(o.value)),await et(),r(o.value,v)))}const h=K(()=>(c==null?void 0:c.validateEvent)||e.validateEvent);return Se(()=>e.modelValue,()=>{h.value&&(a==null||a.validate("change").catch(v=>Sl()))}),{handleChange:s,onClickRoot:u}},Oa=e=>{const o=$(!1),{emit:i}=Me(),n=Ee(Tt,void 0),t=K(()=>Xe(n)===!1),l=$(!1),c=K({get(){var a,d;return t.value?(a=n==null?void 0:n.modelValue)==null?void 0:a.value:(d=e.modelValue)!=null?d:o.value},set(a){var d,f;t.value&&Ae(a)?(l.value=((d=n==null?void 0:n.max)==null?void 0:d.value)!==void 0&&a.length>(n==null?void 0:n.max.value)&&a.length>c.value.length,l.value===!1&&((f=n==null?void 0:n.changeEvent)==null||f.call(n,a))):(i(Mt,a),o.value=a)}});return{model:c,isGroup:t,isLimitExceeded:l}},Na=(e,o,{model:i})=>{const n=Ee(Tt,void 0),t=$(!1),l=K(()=>mt(e.value)?e.label:e.value),c=K(()=>{const r=i.value;return Je(r)?r:Ae(r)?xt(l.value)?r.map(Zn).some(s=>fr(s,l.value)):r.map(Zn).includes(l.value):r!=null?r===e.trueValue||r===e.trueLabel:!!r}),a=wn(K(()=>{var r;return(r=n==null?void 0:n.size)==null?void 0:r.value}),{prop:!0}),d=wn(K(()=>{var r;return(r=n==null?void 0:n.size)==null?void 0:r.value})),f=K(()=>!!o.default||!mt(l.value));return{checkboxButtonSize:a,isChecked:c,isFocused:t,checkboxSize:d,hasOwnLabel:f,actualValue:l}},Gl=(e,o)=>{const{formItem:i}=$n(),{model:n,isGroup:t,isLimitExceeded:l}=Oa(e),{isFocused:c,isChecked:a,checkboxButtonSize:d,checkboxSize:f,hasOwnLabel:r,actualValue:s}=Na(e,o,{model:n}),{isDisabled:u}=Ta({model:n,isChecked:a}),{inputId:h,isLabeledByFormItem:v}=Tl(e,{formItemContext:i,disableIdGeneration:r,disableIdManagement:t}),{handleChange:E,onClickRoot:A}=_a(e,{model:n,isLimitExceeded:l,hasOwnLabel:r,isDisabled:u,isLabeledByFormItem:v});return(()=>{function N(){var M,p;Ae(n.value)&&!n.value.includes(s.value)?n.value.push(s.value):n.value=(p=(M=e.trueValue)!=null?M:e.trueLabel)!=null?p:!0}e.checked&&N()})(),Dt({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},K(()=>t.value&&mt(e.value))),Dt({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},K(()=>!!e.trueLabel)),Dt({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},K(()=>!!e.falseLabel)),{inputId:h,isLabeledByFormItem:v,isChecked:a,isDisabled:u,isFocused:c,checkboxButtonSize:d,checkboxSize:f,hasOwnLabel:r,model:n,actualValue:s,handleChange:E,onClickRoot:A}},Ia=ve({name:"ElCheckbox"}),Pa=ve({...Ia,props:Kl,emits:jl,setup(e){const o=e,i=In(),{inputId:n,isLabeledByFormItem:t,isChecked:l,isDisabled:c,isFocused:a,checkboxSize:d,hasOwnLabel:f,model:r,actualValue:s,handleChange:u,onClickRoot:h}=Gl(o,i),v=xe("checkbox"),E=K(()=>[v.b(),v.m(d.value),v.is("disabled",c.value),v.is("bordered",o.border),v.is("checked",l.value)]),A=K(()=>[v.e("input"),v.is("disabled",c.value),v.is("checked",l.value),v.is("indeterminate",o.indeterminate),v.is("focus",a.value)]);return(C,N)=>(Q(),Be(un(!B(f)&&B(t)?"span":"label"),{class:q(B(E)),"aria-controls":C.indeterminate?C.ariaControls:null,onClick:B(h)},{default:te(()=>{var M,p,y,b;return[oe("span",{class:q(B(A))},[C.trueValue||C.falseValue||C.trueLabel||C.falseLabel?rt((Q(),ae("input",{key:0,id:B(n),"onUpdate:modelValue":x=>Ft(r)?r.value=x:null,class:q(B(v).e("original")),type:"checkbox",indeterminate:C.indeterminate,name:C.name,tabindex:C.tabindex,disabled:B(c),"true-value":(p=(M=C.trueValue)!=null?M:C.trueLabel)!=null?p:!0,"false-value":(b=(y=C.falseValue)!=null?y:C.falseLabel)!=null?b:!1,onChange:B(u),onFocus:x=>a.value=!0,onBlur:x=>a.value=!1,onClick:Qt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Zt,B(r)]]):rt((Q(),ae("input",{key:1,id:B(n),"onUpdate:modelValue":x=>Ft(r)?r.value=x:null,class:q(B(v).e("original")),type:"checkbox",indeterminate:C.indeterminate,disabled:B(c),value:B(s),name:C.name,tabindex:C.tabindex,onChange:B(u),onFocus:x=>a.value=!0,onBlur:x=>a.value=!1,onClick:Qt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[Zt,B(r)]]),oe("span",{class:q(B(v).e("inner"))},null,2)],2),B(f)?(Q(),ae("span",{key:0,class:q(B(v).e("label"))},[ye(C.$slots,"default"),C.$slots.default?Le("v-if",!0):(Q(),ae(Pt,{key:0},[Ye(Ve(C.label),1)],64))],2)):Le("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Ua=tt(Pa,[["__file","checkbox.vue"]]);const Ha=ve({name:"ElCheckboxButton"}),$a=ve({...Ha,props:Kl,emits:jl,setup(e){const o=e,i=In(),{isFocused:n,isChecked:t,isDisabled:l,checkboxButtonSize:c,model:a,actualValue:d,handleChange:f}=Gl(o,i),r=Ee(Tt,void 0),s=xe("checkbox"),u=K(()=>{var v,E,A,C;const N=(E=(v=r==null?void 0:r.fill)==null?void 0:v.value)!=null?E:"";return{backgroundColor:N,borderColor:N,color:(C=(A=r==null?void 0:r.textColor)==null?void 0:A.value)!=null?C:"",boxShadow:N?`-1px 0 0 0 ${N}`:void 0}}),h=K(()=>[s.b("button"),s.bm("button",c.value),s.is("disabled",l.value),s.is("checked",t.value),s.is("focus",n.value)]);return(v,E)=>{var A,C,N,M;return Q(),ae("label",{class:q(B(h))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?rt((Q(),ae("input",{key:0,"onUpdate:modelValue":p=>Ft(a)?a.value=p:null,class:q(B(s).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:B(l),"true-value":(C=(A=v.trueValue)!=null?A:v.trueLabel)!=null?C:!0,"false-value":(M=(N=v.falseValue)!=null?N:v.falseLabel)!=null?M:!1,onChange:B(f),onFocus:p=>n.value=!0,onBlur:p=>n.value=!1,onClick:Qt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Zt,B(a)]]):rt((Q(),ae("input",{key:1,"onUpdate:modelValue":p=>Ft(a)?a.value=p:null,class:q(B(s).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:B(l),value:B(d),onChange:B(f),onFocus:p=>n.value=!0,onBlur:p=>n.value=!1,onClick:Qt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[Zt,B(a)]]),v.$slots.default||v.label?(Q(),ae("span",{key:2,class:q(B(s).be("button","inner")),style:Ze(B(t)?B(u):void 0)},[ye(v.$slots,"default",{},()=>[Ye(Ve(v.label),1)])],6)):Le("v-if",!0)],2)}}});var Yl=tt($a,[["__file","checkbox-button.vue"]]);const Ba=gt({modelValue:{type:At(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Hn,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Nn(["ariaLabel"])}),za={[Mt]:e=>Ae(e),change:e=>Ae(e)},Wa=ve({name:"ElCheckboxGroup"}),Da=ve({...Wa,props:Ba,emits:za,setup(e,{emit:o}){const i=e,n=xe("checkbox"),{formItem:t}=$n(),{inputId:l,isLabeledByFormItem:c}=Tl(i,{formItemContext:t}),a=async f=>{o(Mt,f),await et(),o("change",f)},d=K({get(){return i.modelValue},set(f){a(f)}});return sn(Tt,{...No(Cl(i),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:d,changeEvent:a}),Se(()=>i.modelValue,()=>{i.validateEvent&&(t==null||t.validate("change").catch(f=>Sl()))}),(f,r)=>{var s;return Q(),Be(un(f.tag),{id:B(l),class:q(B(n).b("group")),role:"group","aria-label":B(c)?void 0:f.ariaLabel||"checkbox-group","aria-labelledby":B(c)?(s=B(t))==null?void 0:s.labelId:void 0},{default:te(()=>[ye(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var ql=tt(Da,[["__file","checkbox-group.vue"]]);const Lt=cn(Ua,{CheckboxButton:Yl,CheckboxGroup:ql});Pn(Yl);Pn(ql);const{CheckboxGroup:Va}=Lt,Ka=ve({name:"ElTableFilterPanel",components:{ElCheckbox:Lt,ElCheckboxGroup:Va,ElScrollbar:Hl,ElTooltip:wl,ElIcon:Bt,ArrowDown:Uo,ArrowUp:Po},directives:{ClickOutside:Io},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(e){const o=Me(),{t:i}=Bn(),n=xe("table-filter"),t=o==null?void 0:o.parent;t.filterPanels.value[e.column.id]||(t.filterPanels.value[e.column.id]=o);const l=$(!1),c=$(null),a=K(()=>e.column&&e.column.filters),d=K(()=>e.column.filterClassName?`${n.b()} ${e.column.filterClassName}`:n.b()),f=K({get:()=>{var y;return(((y=e.column)==null?void 0:y.filteredValue)||[])[0]},set:y=>{r.value&&(mt(y)?r.value.splice(0,1):r.value.splice(0,1,y))}}),r=K({get(){return e.column?e.column.filteredValue||[]:[]},set(y){e.column&&e.upDataColumn("filteredValue",y)}}),s=K(()=>e.column?e.column.filterMultiple:!0),u=y=>y.value===f.value,h=()=>{l.value=!1},v=y=>{y.stopPropagation(),l.value=!l.value},E=()=>{l.value=!1},A=()=>{M(r.value),h()},C=()=>{r.value=[],M(r.value),h()},N=y=>{f.value=y,mt(y)?M([]):M(r.value),h()},M=y=>{e.store.commit("filterChange",{column:e.column,values:y}),e.store.updateAllSelected()};Se(l,y=>{e.column&&e.upDataColumn("filterOpened",y)},{immediate:!0});const p=K(()=>{var y,b;return(b=(y=c.value)==null?void 0:y.popperRef)==null?void 0:b.contentRef});return{tooltipVisible:l,multiple:s,filterClassName:d,filteredValue:r,filterValue:f,filters:a,handleConfirm:A,handleReset:C,handleSelect:N,isPropAbsent:mt,isActive:u,t:i,ns:n,showFilterPanel:v,hideFilterPanel:E,popperPaneRef:p,tooltip:c}}});function ja(e,o,i,n,t,l){const c=qe("el-checkbox"),a=qe("el-checkbox-group"),d=qe("el-scrollbar"),f=qe("arrow-up"),r=qe("arrow-down"),s=qe("el-icon"),u=qe("el-tooltip"),h=El("click-outside");return Q(),Be(u,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:te(()=>[e.multiple?(Q(),ae("div",{key:0},[oe("div",{class:q(e.ns.e("content"))},[J(d,{"wrap-class":e.ns.e("wrap")},{default:te(()=>[J(a,{modelValue:e.filteredValue,"onUpdate:modelValue":v=>e.filteredValue=v,class:q(e.ns.e("checkbox-group"))},{default:te(()=>[(Q(!0),ae(Pt,null,Jn(e.filters,v=>(Q(),Be(c,{key:v.value,value:v.value},{default:te(()=>[Ye(Ve(v.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),oe("div",{class:q(e.ns.e("bottom"))},[oe("button",{class:q({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},Ve(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),oe("button",{type:"button",onClick:e.handleReset},Ve(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(Q(),ae("ul",{key:1,class:q(e.ns.e("list"))},[oe("li",{class:q([e.ns.e("list-item"),{[e.ns.is("active")]:e.isPropAbsent(e.filterValue)}]),onClick:v=>e.handleSelect(null)},Ve(e.t("el.table.clearFilter")),11,["onClick"]),(Q(!0),ae(Pt,null,Jn(e.filters,v=>(Q(),ae("li",{key:v.value,class:q([e.ns.e("list-item"),e.ns.is("active",e.isActive(v))]),label:v.value,onClick:E=>e.handleSelect(v.value)},Ve(v.text),11,["label","onClick"]))),128))],2))]),default:te(()=>[rt((Q(),ae("span",{class:q([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[J(s,null,{default:te(()=>[ye(e.$slots,"filter-icon",{},()=>[e.column.filterOpened?(Q(),Be(f,{key:0})):(Q(),Be(r,{key:1}))])]),_:3})],10,["onClick"])),[[h,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var Ga=tt(Ka,[["render",ja],["__file","filter-panel.vue"]]);function Kn(e){const o=Me();Al(()=>{i.value.addObserver(o)}),ct(()=>{n(i.value),t(i.value)}),yl(()=>{n(i.value),t(i.value)}),Un(()=>{i.value.removeObserver(o)});const i=K(()=>{const l=e.layout;if(!l)throw new Error("Can not find table layout.");return l}),n=l=>{var c;const a=((c=e.vnode.el)==null?void 0:c.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const d=l.getFlattenColumns(),f={};d.forEach(r=>{f[r.id]=r});for(let r=0,s=a.length;r<s;r++){const u=a[r],h=u.getAttribute("name"),v=f[h];v&&u.setAttribute("width",v.realWidth||v.width)}},t=l=>{var c,a;const d=((c=e.vnode.el)==null?void 0:c.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let r=0,s=d.length;r<s;r++)d[r].setAttribute("width",l.scrollY.value?l.gutterWidth:"0");const f=((a=e.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let r=0,s=f.length;r<s;r++){const u=f[r];u.style.width=l.scrollY.value?`${l.gutterWidth}px`:"0",u.style.display=l.scrollY.value?"":"none"}};return{tableLayout:i.value,onColumnsChange:n,onScrollableChange:t}}const nt=Symbol("ElTable");function Ya(e,o){const i=Me(),n=Ee(nt),t=E=>{E.stopPropagation()},l=(E,A)=>{!A.filters&&A.sortable?v(E,A,!1):A.filterable&&!A.sortable&&t(E),n==null||n.emit("header-click",A,E)},c=(E,A)=>{n==null||n.emit("header-contextmenu",A,E)},a=$(null),d=$(!1),f=$({}),r=(E,A)=>{if(it&&!(A.children&&A.children.length>0)&&a.value&&e.border){d.value=!0;const C=n;o("set-drag-visible",!0);const M=(C==null?void 0:C.vnode.el).getBoundingClientRect().left,p=i.vnode.el.querySelector(`th.${A.id}`),y=p.getBoundingClientRect(),b=y.left-M+30;$t(p,"noclick"),f.value={startMouseLeft:E.clientX,startLeft:y.right-M,startColumnLeft:y.left-M,tableLeft:M};const x=C==null?void 0:C.refs.resizeProxy;x.style.left=`${f.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const m=R=>{const k=R.clientX-f.value.startMouseLeft,L=f.value.startLeft+k;x.style.left=`${Math.max(b,L)}px`},g=()=>{if(d.value){const{startColumnLeft:R,startLeft:k}=f.value,_=Number.parseInt(x.style.left,10)-R;A.width=A.realWidth=_,C==null||C.emit("header-dragend",A.width,k-R,A,E),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",d.value=!1,a.value=null,f.value={},o("set-drag-visible",!1)}document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Rt(p,"noclick")},0)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",g)}},s=(E,A)=>{var C;if(A.children&&A.children.length>0)return;const N=E.target;if(!Ho(N))return;const M=N==null?void 0:N.closest("th");if(!(!A||!A.resizable||!M)&&!d.value&&e.border){const p=M.getBoundingClientRect(),y=document.body.style,b=((C=M.parentNode)==null?void 0:C.lastElementChild)===M,x=e.allowDragLastColumn||!b;p.width>12&&p.right-E.pageX<8&&x?(y.cursor="col-resize",vt(M,"is-sortable")&&(M.style.cursor="col-resize"),a.value=A):d.value||(y.cursor="",vt(M,"is-sortable")&&(M.style.cursor="pointer"),a.value=null)}},u=()=>{it&&(document.body.style.cursor="")},h=({order:E,sortOrders:A})=>{if(E==="")return A[0];const C=A.indexOf(E||null);return A[C>A.length-2?0:C+1]},v=(E,A,C)=>{var N;E.stopPropagation();const M=A.order===C?null:C||h(A),p=(N=E.target)==null?void 0:N.closest("th");if(p&&vt(p,"noclick")){Rt(p,"noclick");return}if(!A.sortable)return;const y=E.currentTarget;if(["ascending","descending"].some(R=>vt(y,R)&&!A.sortOrders.includes(R)))return;const b=e.store.states;let x=b.sortProp.value,m;const g=b.sortingColumn.value;(g!==A||g===A&&zt(g.order))&&(g&&(g.order=null),b.sortingColumn.value=A,x=A.property),M?m=A.order=M:m=A.order=null,b.sortProp.value=x,b.sortOrder.value=m,n==null||n.store.commit("changeSortCondition")};return{handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:r,handleMouseMove:s,handleMouseOut:u,handleSortClick:v,handleFilterClick:t}}function qa(e){const o=Ee(nt),i=xe("table");return{getHeaderRowStyle:a=>{const d=o==null?void 0:o.props.headerRowStyle;return De(d)?d.call(null,{rowIndex:a}):d},getHeaderRowClass:a=>{const d=[],f=o==null?void 0:o.props.headerRowClassName;return ze(f)?d.push(f):De(f)&&d.push(f.call(null,{rowIndex:a})),d.join(" ")},getHeaderCellStyle:(a,d,f,r)=>{var s;let u=(s=o==null?void 0:o.props.headerCellStyle)!=null?s:{};De(u)&&(u=u.call(null,{rowIndex:a,columnIndex:d,row:f,column:r}));const h=Vn(d,r.fixed,e.store,f);return kt(h,"left"),kt(h,"right"),Object.assign({},u,h)},getHeaderCellClass:(a,d,f,r)=>{const s=Dn(i.b(),d,r.fixed,e.store,f),u=[r.id,r.order,r.headerAlign,r.className,r.labelClassName,...s];r.children||u.push("is-leaf"),r.sortable&&u.push("is-sortable");const h=o==null?void 0:o.props.headerCellClassName;return ze(h)?u.push(h):De(h)&&u.push(h.call(null,{rowIndex:a,columnIndex:d,row:f,column:r})),u.push(i.e("cell")),u.filter(v=>!!v).join(" ")}}}const Xl=e=>{const o=[];return e.forEach(i=>{i.children?(o.push(i),o.push.apply(o,Xl(i.children))):o.push(i)}),o},Ql=e=>{let o=1;const i=(l,c)=>{if(c&&(l.level=c.level+1,o<l.level&&(o=l.level)),l.children){let a=0;l.children.forEach(d=>{i(d,l),a+=d.colSpan}),l.colSpan=a}else l.colSpan=1};e.forEach(l=>{l.level=1,i(l,void 0)});const n=[];for(let l=0;l<o;l++)n.push([]);return Xl(e).forEach(l=>{l.children?(l.rowSpan=1,l.children.forEach(c=>c.isSubColumn=!0)):l.rowSpan=o-l.level+1,n[l.level-1].push(l)}),n};function Xa(e){const o=Ee(nt),i=K(()=>Ql(e.store.states.originColumns.value));return{isGroup:K(()=>{const l=i.value.length>1;return l&&o&&(o.state.isGroup.value=!0),l}),toggleAllSelection:l=>{l.stopPropagation(),o==null||o.store.commit("toggleAllSelection")},columnRows:i}}var Qa=ve({name:"ElTableHeader",components:{ElCheckbox:Lt},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:o}){const i=Me(),n=Ee(nt),t=xe("table"),l=$({}),{onColumnsChange:c,onScrollableChange:a}=Kn(n),d=(n==null?void 0:n.props.tableLayout)==="auto",f=bl(new Map),r=$(),s=()=>{setTimeout(()=>{f.size>0&&(f.forEach((R,k)=>{const L=r.value.querySelector(`.${k.replace(/\s/g,".")}`);if(L){const _=L.getBoundingClientRect().width;R.width=_}}),f.clear())})};Se(f,s),ct(async()=>{await et(),await et();const{prop:R,order:k}=e.defaultSort;n==null||n.store.commit("sort",{prop:R,order:k,init:!0}),s()});const{handleHeaderClick:u,handleHeaderContextMenu:h,handleMouseDown:v,handleMouseMove:E,handleMouseOut:A,handleSortClick:C,handleFilterClick:N}=Ya(e,o),{getHeaderRowStyle:M,getHeaderRowClass:p,getHeaderCellStyle:y,getHeaderCellClass:b}=qa(e),{isGroup:x,toggleAllSelection:m,columnRows:g}=Xa(e);return i.state={onColumnsChange:c,onScrollableChange:a},i.filterPanels=l,{ns:t,filterPanels:l,onColumnsChange:c,onScrollableChange:a,columnRows:g,getHeaderRowClass:p,getHeaderRowStyle:M,getHeaderCellClass:b,getHeaderCellStyle:y,handleHeaderClick:u,handleHeaderContextMenu:h,handleMouseDown:v,handleMouseMove:E,handleMouseOut:A,handleSortClick:C,handleFilterClick:N,isGroup:x,toggleAllSelection:m,saveIndexSelection:f,isTableLayoutAuto:d,theadRef:r,updateFixedColumnStyle:s}},render(){const{ns:e,isGroup:o,columnRows:i,getHeaderCellStyle:n,getHeaderCellClass:t,getHeaderRowClass:l,getHeaderRowStyle:c,handleHeaderClick:a,handleHeaderContextMenu:d,handleMouseDown:f,handleMouseMove:r,handleSortClick:s,handleMouseOut:u,store:h,$parent:v,saveIndexSelection:E,isTableLayoutAuto:A}=this;let C=1;return ne("thead",{ref:"theadRef",class:{[e.is("group")]:o}},i.map((N,M)=>ne("tr",{class:l(M),key:M,style:c(M)},N.map((p,y)=>{p.rowSpan>C&&(C=p.rowSpan);const b=t(M,y,N,p);return A&&p.fixed&&E.set(b,p),ne("th",{class:b,colspan:p.colSpan,key:`${p.id}-thead`,rowspan:p.rowSpan,style:n(M,y,N,p),onClick:x=>{x.currentTarget.classList.contains("noclick")||a(x,p)},onContextmenu:x=>d(x,p),onMousedown:x=>f(x,p),onMousemove:x=>r(x,p),onMouseout:u},[ne("div",{class:["cell",p.filteredValue&&p.filteredValue.length>0?"highlight":""]},[p.renderHeader?p.renderHeader({column:p,$index:y,store:h,_self:v}):p.label,p.sortable&&ne("span",{onClick:x=>s(x,p),class:"caret-wrapper"},[ne("i",{onClick:x=>s(x,p,"ascending"),class:"sort-caret ascending"}),ne("i",{onClick:x=>s(x,p,"descending"),class:"sort-caret descending"})]),p.filterable&&ne(Ga,{store:h,placement:p.filterPlacement||"bottom-start",appendTo:v.appendFilterPanelTo,column:p,upDataColumn:(x,m)=>{p[x]=m}},{"filter-icon":()=>p.renderFilterIcon?p.renderFilterIcon({filterOpened:p.filterOpened}):null})])])}))))}});function mn(e,o,i=.03){return e-o>i}function Za(e){const o=Ee(nt),i=$(""),n=$(ne("div")),t=(v,E,A)=>{var C;const N=o,M=pn(v);let p;const y=(C=N==null?void 0:N.vnode.el)==null?void 0:C.dataset.prefix;M&&(p=ll({columns:e.store.states.columns.value},M,y),p&&(N==null||N.emit(`cell-${A}`,E,p,M,v))),N==null||N.emit(`row-${A}`,E,p,v)},l=(v,E)=>{t(v,E,"dblclick")},c=(v,E)=>{e.store.commit("setCurrentRow",E),t(v,E,"click")},a=(v,E)=>{t(v,E,"contextmenu")},d=Jt(v=>{e.store.commit("setHoverRow",v)},30),f=Jt(()=>{e.store.commit("setHoverRow",null)},30),r=v=>{const E=window.getComputedStyle(v,null),A=Number.parseInt(E.paddingLeft,10)||0,C=Number.parseInt(E.paddingRight,10)||0,N=Number.parseInt(E.paddingTop,10)||0,M=Number.parseInt(E.paddingBottom,10)||0;return{left:A,right:C,top:N,bottom:M}},s=(v,E,A)=>{let C=E.target.parentNode;for(;v>1&&(C=C==null?void 0:C.nextSibling,!(!C||C.nodeName!=="TR"));)A(C,"hover-row hover-fixed-row"),v--};return{handleDoubleClick:l,handleClick:c,handleContextMenu:a,handleMouseEnter:d,handleMouseLeave:f,handleCellMouseEnter:(v,E,A)=>{var C,N,M;const p=o,y=pn(v),b=(C=p==null?void 0:p.vnode.el)==null?void 0:C.dataset.prefix;let x;if(y){x=ll({columns:e.store.states.columns.value},y,b),y.rowSpan>1&&s(y.rowSpan,v,$t);const P=p.hoverState={cell:y,column:x,row:E};p==null||p.emit("cell-mouse-enter",P.row,P.column,P.cell,v)}if(!A)return;const m=v.target.querySelector(".cell");if(!(vt(m,`${b}-tooltip`)&&m.childNodes.length))return;const g=document.createRange();g.setStart(m,0),g.setEnd(m,m.childNodes.length);const{width:R,height:k}=g.getBoundingClientRect(),{width:L,height:_}=m.getBoundingClientRect(),{top:T,left:O,right:S,bottom:w}=r(m),I=O+S,F=T+w;mn(R+I,L)||mn(k+F,_)||mn(m.scrollWidth,L)?Ca(A,y.innerText||y.textContent,E,x,y,p):((N=He)==null?void 0:N.trigger)===y&&((M=He)==null||M())},handleCellMouseLeave:v=>{const E=pn(v);if(!E)return;E.rowSpan>1&&s(E.rowSpan,v,Rt);const A=o==null?void 0:o.hoverState;o==null||o.emit("cell-mouse-leave",A==null?void 0:A.row,A==null?void 0:A.column,A==null?void 0:A.cell,v)},tooltipContent:i,tooltipTrigger:n}}function Ja(e){const o=Ee(nt),i=xe("table");return{getRowStyle:(f,r)=>{const s=o==null?void 0:o.props.rowStyle;return De(s)?s.call(null,{row:f,rowIndex:r}):s||null},getRowClass:(f,r)=>{const s=[i.e("row")];o!=null&&o.props.highlightCurrentRow&&f===e.store.states.currentRow.value&&s.push("current-row"),e.stripe&&r%2===1&&s.push(i.em("row","striped"));const u=o==null?void 0:o.props.rowClassName;return ze(u)?s.push(u):De(u)&&s.push(u.call(null,{row:f,rowIndex:r})),s},getCellStyle:(f,r,s,u)=>{const h=o==null?void 0:o.props.cellStyle;let v=h??{};De(h)&&(v=h.call(null,{rowIndex:f,columnIndex:r,row:s,column:u}));const E=Vn(r,e==null?void 0:e.fixed,e.store);return kt(E,"left"),kt(E,"right"),Object.assign({},v,E)},getCellClass:(f,r,s,u,h)=>{const v=Dn(i.b(),r,e==null?void 0:e.fixed,e.store,void 0,h),E=[u.id,u.align,u.className,...v],A=o==null?void 0:o.props.cellClassName;return ze(A)?E.push(A):De(A)&&E.push(A.call(null,{rowIndex:f,columnIndex:r,row:s,column:u})),E.push(i.e("cell")),E.filter(C=>!!C).join(" ")},getSpan:(f,r,s,u)=>{let h=1,v=1;const E=o==null?void 0:o.props.spanMethod;if(De(E)){const A=E({row:f,column:r,rowIndex:s,columnIndex:u});Ae(A)?(h=A[0],v=A[1]):xt(A)&&(h=A.rowspan,v=A.colspan)}return{rowspan:h,colspan:v}},getColspanRealWidth:(f,r,s)=>{if(r<1)return f[s].realWidth;const u=f.map(({realWidth:h,width:v})=>h||v).slice(s,s+r);return Number(u.reduce((h,v)=>Number(h)+Number(v),-1))}}}const es=ve({name:"TableTdWrapper"}),ts=ve({...es,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(o,i)=>(Q(),ae("td",{colspan:e.colspan,rowspan:e.rowspan},[ye(o.$slots,"default")],8,["colspan","rowspan"]))}});var ns=tt(ts,[["__file","td-wrapper.vue"]]);function ls(e){const o=Ee(nt),i=xe("table"),{handleDoubleClick:n,handleClick:t,handleContextMenu:l,handleMouseEnter:c,handleMouseLeave:a,handleCellMouseEnter:d,handleCellMouseLeave:f,tooltipContent:r,tooltipTrigger:s}=Za(e),{getRowStyle:u,getRowClass:h,getCellStyle:v,getCellClass:E,getSpan:A,getColspanRealWidth:C}=Ja(e),N=K(()=>e.store.states.columns.value.findIndex(({type:x})=>x==="default")),M=(x,m)=>{const g=o.props.rowKey;return g?Oe(x,g):m},p=(x,m,g,R=!1)=>{const{tooltipEffect:k,tooltipOptions:L,store:_}=e,{indent:T,columns:O}=_.states,S=h(x,m);let w=!0;return g&&(S.push(i.em("row",`level-${g.level}`)),w=g.display),ne("tr",{style:[w?null:{display:"none"},u(x,m)],class:S,key:M(x,m),onDblclick:F=>n(F,x),onClick:F=>t(F,x),onContextmenu:F=>l(F,x),onMouseenter:()=>c(m),onMouseleave:a},O.value.map((F,P)=>{const{rowspan:D,colspan:z}=A(x,F,m,P);if(!D||!z)return null;const W=Object.assign({},F);W.realWidth=C(O.value,z,P);const H={store:e.store,_self:e.context||o,column:W,row:x,$index:m,cellIndex:P,expanded:R};P===N.value&&g&&(H.treeNode={indent:g.level*T.value,level:g.level},Je(g.expanded)&&(H.treeNode.expanded=g.expanded,"loading"in g&&(H.treeNode.loading=g.loading),"noLazyChildren"in g&&(H.treeNode.noLazyChildren=g.noLazyChildren)));const U=`${M(x,m)},${P}`,j=W.columnKey||W.rawColumnKey||"",Z=F.showOverflowTooltip&&Ul({effect:k},L,F.showOverflowTooltip);return ne(ns,{style:v(m,P,x,F),class:E(m,P,x,F,z-1),key:`${j}${U}`,rowspan:D,colspan:z,onMouseenter:ee=>d(ee,x,Z),onMouseleave:f},{default:()=>y(P,F,H)})}))},y=(x,m,g)=>m.renderCell(g);return{wrappedRowRender:(x,m)=>{const g=e.store,{isRowExpanded:R,assertRowKey:k}=g,{treeData:L,lazyTreeNodeMap:_,childrenColumnName:T,rowKey:O}=g.states,S=g.states.columns.value;if(S.some(({type:I})=>I==="expand")){const I=R(x),F=p(x,m,void 0,I),P=o.renderExpanded;return I?P?[[F,ne("tr",{key:`expanded-row__${F.key}`},[ne("td",{colspan:S.length,class:`${i.e("cell")} ${i.e("expanded-cell")}`},[P({row:x,$index:m,store:g,expanded:I})])])]]:(console.error("[Element Error]renderExpanded is required."),F):[[F]]}else if(Object.keys(L.value).length){k();const I=Oe(x,O.value);let F=L.value[I],P=null;F&&(P={expanded:F.expanded,level:F.level,display:!0},Je(F.lazy)&&(Je(F.loaded)&&F.loaded&&(P.noLazyChildren=!(F.children&&F.children.length)),P.loading=F.loading));const D=[p(x,m,P)];if(F){let z=0;const W=(U,j)=>{U&&U.length&&j&&U.forEach(Z=>{const ee={display:j.display&&j.expanded,level:j.level+1,expanded:!1,noLazyChildren:!1,loading:!1},X=Oe(Z,O.value);if(mt(X))throw new Error("For nested data item, row-key is required.");if(F={...L.value[X]},F&&(ee.expanded=F.expanded,F.level=F.level||ee.level,F.display=!!(F.expanded&&ee.display),Je(F.lazy)&&(Je(F.loaded)&&F.loaded&&(ee.noLazyChildren=!(F.children&&F.children.length)),ee.loading=F.loading)),z++,D.push(p(Z,m+z,ee)),F){const re=_.value[X]||Z[T.value];W(re,F)}})};F.display=!0;const H=_.value[I]||x[T.value];W(H,F)}return D}else return p(x,m,void 0)},tooltipContent:r,tooltipTrigger:s}}const os={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean},rs=e=>it?window.requestAnimationFrame(e):setTimeout(e,16);var as=ve({name:"ElTableBody",props:os,setup(e){const o=Me(),i=Ee(nt),n=xe("table"),{wrappedRowRender:t,tooltipContent:l,tooltipTrigger:c}=ls(e),{onColumnsChange:a,onScrollableChange:d}=Kn(i),f=[];return Se(e.store.states.hoverRow,(r,s)=>{var u;const h=o==null?void 0:o.vnode.el,v=Array.from((h==null?void 0:h.children)||[]).filter(C=>C==null?void 0:C.classList.contains(`${n.e("row")}`));let E=r;const A=(u=v[E])==null?void 0:u.childNodes;if(A!=null&&A.length){let C=0;Array.from(A).reduce((M,p,y)=>{var b,x;return((b=A[y])==null?void 0:b.colSpan)>1&&(C=(x=A[y])==null?void 0:x.colSpan),p.nodeName!=="TD"&&C===0&&M.push(y),C>0&&C--,M},[]).forEach(M=>{var p;for(E=r;E>0;){const y=(p=v[E-1])==null?void 0:p.childNodes;if(y[M]&&y[M].nodeName==="TD"&&y[M].rowSpan>1){$t(y[M],"hover-cell"),f.push(y[M]);break}E--}})}else f.forEach(C=>Rt(C,"hover-cell")),f.length=0;!e.store.states.isComplex.value||!it||rs(()=>{const C=v[s],N=v[r];C&&!C.classList.contains("hover-fixed-row")&&Rt(C,"hover-row"),N&&$t(N,"hover-row")})}),Un(()=>{var r;(r=He)==null||r()}),{ns:n,onColumnsChange:a,onScrollableChange:d,wrappedRowRender:t,tooltipContent:l,tooltipTrigger:c}},render(){const{wrappedRowRender:e,store:o}=this,i=o.states.data.value||[];return ne("tbody",{tabIndex:-1},[i.reduce((n,t)=>n.concat(e(t,n.length)),[])])}});function ss(){const e=Ee(nt),o=e==null?void 0:e.store,i=K(()=>o.states.fixedLeafColumnsLength.value),n=K(()=>o.states.rightFixedColumns.value.length),t=K(()=>o.states.columns.value.length),l=K(()=>o.states.fixedColumns.value.length),c=K(()=>o.states.rightFixedColumns.value.length);return{leftFixedLeafCount:i,rightFixedLeafCount:n,columnsCount:t,leftFixedCount:l,rightFixedCount:c,columns:o.states.columns}}function is(e){const{columns:o}=ss(),i=xe("table");return{getCellClasses:(l,c)=>{const a=l[c],d=[i.e("cell"),a.id,a.align,a.labelClassName,...Dn(i.b(),c,a.fixed,e.store)];return a.className&&d.push(a.className),a.children||d.push(i.is("leaf")),d},getCellStyles:(l,c)=>{const a=Vn(c,l.fixed,e.store);return kt(a,"left"),kt(a,"right"),a},columns:o}}var us=ve({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const o=Ee(nt),i=xe("table"),{getCellClasses:n,getCellStyles:t,columns:l}=is(e),{onScrollableChange:c,onColumnsChange:a}=Kn(o);return{ns:i,onScrollableChange:c,onColumnsChange:a,getCellClasses:n,getCellStyles:t,columns:l}},render(){const{columns:e,getCellStyles:o,getCellClasses:i,summaryMethod:n,sumText:t}=this,l=this.store.states.data.value;let c=[];return n?c=n({columns:e,data:l}):e.forEach((a,d)=>{if(d===0){c[d]=t;return}const f=l.map(h=>Number(h[a.property])),r=[];let s=!0;f.forEach(h=>{if(!Number.isNaN(+h)){s=!1;const v=`${h}`.split(".")[1];r.push(v?v.length:0)}});const u=Math.max.apply(null,r);s?c[d]="":c[d]=f.reduce((h,v)=>{const E=Number(v);return Number.isNaN(+E)?h:Number.parseFloat((h+v).toFixed(Math.min(u,20)))},0)}),ne(ne("tfoot",[ne("tr",{},[...e.map((a,d)=>ne("td",{key:d,colspan:a.colSpan,rowspan:a.rowSpan,class:i(e,d),style:o(a,d)},[ne("div",{class:["cell",a.labelClassName]},[c[d]])]))])]))}});function cs(e){return{setCurrentRow:s=>{e.commit("setCurrentRow",s)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(s,u,h=!0)=>{e.toggleRowSelection(s,u,!1,h),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:s=>{e.clearFilter(s)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(s,u)=>{e.toggleRowExpansionAdapter(s,u)},clearSort:()=>{e.clearSort()},sort:(s,u)=>{e.commit("sort",{prop:s,order:u})},updateKeyChildren:(s,u)=>{e.updateKeyChildren(s,u)}}}function ds(e,o,i,n){const t=$(!1),l=$(null),c=$(!1),a=I=>{c.value=I},d=$({width:null,height:null,headerHeight:null}),f=$(!1),r={display:"inline-block",verticalAlign:"middle"},s=$(),u=$(0),h=$(0),v=$(0),E=$(0),A=$(0);Et(()=>{o.setHeight(e.height)}),Et(()=>{o.setMaxHeight(e.maxHeight)}),Se(()=>[e.currentRowKey,i.states.rowKey],([I,F])=>{!B(F)||!B(I)||i.setCurrentRowKey(`${I}`)},{immediate:!0}),Se(()=>e.data,I=>{n.store.commit("setData",I)},{immediate:!0,deep:!0}),Et(()=>{e.expandRowKeys&&i.setExpandRowKeysAdapter(e.expandRowKeys)});const C=()=>{n.store.commit("setHoverRow",null),n.hoverState&&(n.hoverState=null)},N=(I,F)=>{const{pixelX:P,pixelY:D}=F;Math.abs(P)>=Math.abs(D)&&(n.refs.bodyWrapper.scrollLeft+=F.pixelX/5)},M=K(()=>e.height||e.maxHeight||i.states.fixedColumns.value.length>0||i.states.rightFixedColumns.value.length>0),p=K(()=>({width:o.bodyWidth.value?`${o.bodyWidth.value}px`:""})),y=()=>{M.value&&o.updateElsHeight(),o.updateColumnsWidth(),requestAnimationFrame(g)};ct(async()=>{await et(),i.updateColumns(),R(),requestAnimationFrame(y);const I=n.vnode.el,F=n.refs.headerWrapper;e.flexible&&I&&I.parentElement&&(I.parentElement.style.minWidth="0"),d.value={width:s.value=I.offsetWidth,height:I.offsetHeight,headerHeight:e.showHeader&&F?F.offsetHeight:null},i.states.columns.value.forEach(P=>{P.filteredValue&&P.filteredValue.length&&n.store.commit("filterChange",{column:P,values:P.filteredValue,silent:!0})}),n.$ready=!0});const b=(I,F)=>{if(!I)return;const P=Array.from(I.classList).filter(D=>!D.startsWith("is-scrolling-"));P.push(o.scrollX.value?F:"is-scrolling-none"),I.className=P.join(" ")},x=I=>{const{tableWrapper:F}=n.refs;b(F,I)},m=I=>{const{tableWrapper:F}=n.refs;return!!(F&&F.classList.contains(I))},g=function(){if(!n.refs.scrollBarRef)return;if(!o.scrollX.value){const U="is-scrolling-none";m(U)||x(U);return}const I=n.refs.scrollBarRef.wrapRef;if(!I)return;const{scrollLeft:F,offsetWidth:P,scrollWidth:D}=I,{headerWrapper:z,footerWrapper:W}=n.refs;z&&(z.scrollLeft=F),W&&(W.scrollLeft=F);const H=D-P-1;F>=H?x("is-scrolling-right"):x(F===0?"is-scrolling-left":"is-scrolling-middle")},R=()=>{n.refs.scrollBarRef&&(n.refs.scrollBarRef.wrapRef&&It(n.refs.scrollBarRef.wrapRef,"scroll",g,{passive:!0}),e.fit?bn(n.vnode.el,k):It(window,"resize",k),bn(n.refs.bodyWrapper,()=>{var I,F;k(),(F=(I=n.refs)==null?void 0:I.scrollBarRef)==null||F.update()}))},k=()=>{var I,F,P,D;const z=n.vnode.el;if(!n.$ready||!z)return;let W=!1;const{width:H,height:U,headerHeight:j}=d.value,Z=s.value=z.offsetWidth;H!==Z&&(W=!0);const ee=z.offsetHeight;(e.height||M.value)&&U!==ee&&(W=!0);const X=e.tableLayout==="fixed"?n.refs.headerWrapper:(I=n.refs.tableHeaderRef)==null?void 0:I.$el;e.showHeader&&(X==null?void 0:X.offsetHeight)!==j&&(W=!0),u.value=((F=n.refs.tableWrapper)==null?void 0:F.scrollHeight)||0,v.value=(X==null?void 0:X.scrollHeight)||0,E.value=((P=n.refs.footerWrapper)==null?void 0:P.offsetHeight)||0,A.value=((D=n.refs.appendWrapper)==null?void 0:D.offsetHeight)||0,h.value=u.value-v.value-E.value-A.value,W&&(d.value={width:Z,height:ee,headerHeight:e.showHeader&&(X==null?void 0:X.offsetHeight)||0},y())},L=wn(),_=K(()=>{const{bodyWidth:I,scrollY:F,gutterWidth:P}=o;return I.value?`${I.value-(F.value?P:0)}px`:""}),T=K(()=>e.maxHeight?"fixed":e.tableLayout),O=K(()=>{if(e.data&&e.data.length)return null;let I="100%";e.height&&h.value&&(I=`${h.value}px`);const F=s.value;return{width:F?`${F}px`:"",height:I}}),S=K(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${v.value+E.value}px)`}:{maxHeight:`${e.maxHeight-v.value-E.value}px`}:{});return{isHidden:t,renderExpanded:l,setDragVisible:a,isGroup:f,handleMouseLeave:C,handleHeaderFooterMousewheel:N,tableSize:L,emptyBlockStyle:O,handleFixedMousewheel:(I,F)=>{const P=n.refs.bodyWrapper;if(Math.abs(F.spinY)>0){const D=P.scrollTop;F.pixelY<0&&D!==0&&I.preventDefault(),F.pixelY>0&&P.scrollHeight-P.clientHeight>D&&I.preventDefault(),P.scrollTop+=Math.ceil(F.pixelY/5)}else P.scrollLeft+=Math.ceil(F.pixelX/5)},resizeProxyVisible:c,bodyWidth:_,resizeState:d,doLayout:y,tableBodyStyles:p,tableLayout:T,scrollbarViewStyle:r,scrollbarStyle:S}}function fs(e){const o=$(),i=()=>{const t=e.vnode.el.querySelector(".hidden-columns"),l={childList:!0,subtree:!0},c=e.store.states.updateOrderFns;o.value=new MutationObserver(()=>{c.forEach(a=>a())}),o.value.observe(t,l)};ct(()=>{i()}),Un(()=>{var n;(n=o.value)==null||n.disconnect()})}var hs={data:{type:Array,default:()=>[]},size:Hn,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0}};function Zl(e){const o=e.tableLayout==="auto";let i=e.columns||[];o&&i.every(({width:t})=>Xe(t))&&(i=[]);const n=t=>{const l={key:`${e.tableLayout}_${t.id}`,style:{},name:void 0};return o?l.style={width:`${t.width}px`}:l.name=t.id,l};return ne("colgroup",{},i.map(t=>ne("col",n(t))))}Zl.props=["columns","tableLayout"];const vs=()=>{const e=$(),o=(l,c)=>{const a=e.value;a&&a.scrollTo(l,c)},i=(l,c)=>{const a=e.value;a&&Ke(c)&&["Top","Left"].includes(l)&&a[`setScroll${l}`](c)};return{scrollBarRef:e,scrollTo:o,setScrollTop:l=>i("Top",l),setScrollLeft:l=>i("Left",l)}};var al=!1,ht,xn,Fn,Kt,jt,Jl,Gt,Rn,kn,Ln,eo,Mn,Tn,to,no;function Ue(){if(!al){al=!0;var e=navigator.userAgent,o=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),i=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Mn=/\b(iPhone|iP[ao]d)/.exec(e),Tn=/\b(iP[ao]d)/.exec(e),Ln=/Android/i.exec(e),to=/FBAN\/\w+;/i.exec(e),no=/Mobile/i.exec(e),eo=!!/Win64/.exec(e),o){ht=o[1]?parseFloat(o[1]):o[5]?parseFloat(o[5]):NaN,ht&&document&&document.documentMode&&(ht=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(e);Jl=n?parseFloat(n[1])+4:ht,xn=o[2]?parseFloat(o[2]):NaN,Fn=o[3]?parseFloat(o[3]):NaN,Kt=o[4]?parseFloat(o[4]):NaN,Kt?(o=/(?:Chrome\/(\d+\.\d+))/.exec(e),jt=o&&o[1]?parseFloat(o[1]):NaN):jt=NaN}else ht=xn=Fn=jt=Kt=NaN;if(i){if(i[1]){var t=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Gt=t?parseFloat(t[1].replace("_",".")):!0}else Gt=!1;Rn=!!i[2],kn=!!i[3]}else Gt=Rn=kn=!1}}var _n={ie:function(){return Ue()||ht},ieCompatibilityMode:function(){return Ue()||Jl>ht},ie64:function(){return _n.ie()&&eo},firefox:function(){return Ue()||xn},opera:function(){return Ue()||Fn},webkit:function(){return Ue()||Kt},safari:function(){return _n.webkit()},chrome:function(){return Ue()||jt},windows:function(){return Ue()||Rn},osx:function(){return Ue()||Gt},linux:function(){return Ue()||kn},iphone:function(){return Ue()||Mn},mobile:function(){return Ue()||Mn||Tn||Ln||no},nativeApp:function(){return Ue()||to},android:function(){return Ue()||Ln},ipad:function(){return Ue()||Tn}},ps=_n,ms=!!(typeof window<"u"&&window.document&&window.document.createElement),gs={canUseDOM:ms},lo=gs,oo;lo.canUseDOM&&(oo=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function bs(e,o){if(!lo.canUseDOM||o&&!("addEventListener"in document))return!1;var i="on"+e,n=i in document;if(!n){var t=document.createElement("div");t.setAttribute(i,"return;"),n=typeof t[i]=="function"}return!n&&oo&&e==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var ys=bs,sl=10,il=40,ul=800;function ro(e){var o=0,i=0,n=0,t=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(o=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(o=i,i=0),n=o*sl,t=i*sl,"deltaY"in e&&(t=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||t)&&e.deltaMode&&(e.deltaMode==1?(n*=il,t*=il):(n*=ul,t*=ul)),n&&!o&&(o=n<1?-1:1),t&&!i&&(i=t<1?-1:1),{spinX:o,spinY:i,pixelX:n,pixelY:t}}ro.getEventType=function(){return ps.firefox()?"DOMMouseScroll":ys("wheel")?"wheel":"mousewheel"};var ws=ro;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const Cs=function(e,o){if(e&&e.addEventListener){const i=function(n){const t=ws(n);o&&Reflect.apply(o,this,[n,t])};e.addEventListener("wheel",i,{passive:!0})}},Ss={beforeMount(e,o){Cs(e,o.value)}};let Es=1;const As=ve({name:"ElTable",directives:{Mousewheel:Ss},components:{TableHeader:Qa,TableBody:as,TableFooter:us,ElScrollbar:Hl,hColgroup:Zl},props:hs,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t:o}=Bn(),i=xe("table"),n=Me();sn(nt,n);const t=ka(n,e);n.store=t;const l=new Ma({store:n.store,table:n,fit:e.fit,showHeader:e.showHeader});n.layout=l;const c=K(()=>(t.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:d,toggleRowSelection:f,clearSelection:r,clearFilter:s,toggleAllSelection:u,toggleRowExpansion:h,clearSort:v,sort:E,updateKeyChildren:A}=cs(t),{isHidden:C,renderExpanded:N,setDragVisible:M,isGroup:p,handleMouseLeave:y,handleHeaderFooterMousewheel:b,tableSize:x,emptyBlockStyle:m,handleFixedMousewheel:g,resizeProxyVisible:R,bodyWidth:k,resizeState:L,doLayout:_,tableBodyStyles:T,tableLayout:O,scrollbarViewStyle:S,scrollbarStyle:w}=ds(e,l,t,n),{scrollBarRef:I,scrollTo:F,setScrollLeft:P,setScrollTop:D}=vs(),z=Jt(_,50),W=`${i.namespace.value}-table_${Es++}`;n.tableId=W,n.state={isGroup:p,resizeState:L,doLayout:_,debouncedUpdateLayout:z};const H=K(()=>{var Z;return(Z=e.sumText)!=null?Z:o("el.table.sumText")}),U=K(()=>{var Z;return(Z=e.emptyText)!=null?Z:o("el.table.emptyText")}),j=K(()=>Ql(t.states.originColumns.value)[0]);return fs(n),an(()=>{z.cancel()}),{ns:i,layout:l,store:t,columns:j,handleHeaderFooterMousewheel:b,handleMouseLeave:y,tableId:W,tableSize:x,isHidden:C,isEmpty:c,renderExpanded:N,resizeProxyVisible:R,resizeState:L,isGroup:p,bodyWidth:k,tableBodyStyles:T,emptyBlockStyle:m,debouncedUpdateLayout:z,handleFixedMousewheel:g,setCurrentRow:a,getSelectionRows:d,toggleRowSelection:f,clearSelection:r,clearFilter:s,toggleAllSelection:u,toggleRowExpansion:h,clearSort:v,doLayout:_,sort:E,updateKeyChildren:A,t:o,setDragVisible:M,context:n,computedSumText:H,computedEmptyText:U,tableLayout:O,scrollbarViewStyle:S,scrollbarStyle:w,scrollBarRef:I,scrollTo:F,setScrollLeft:P,setScrollTop:D,allowDragLastColumn:e.allowDragLastColumn}}});function xs(e,o,i,n,t,l){const c=qe("hColgroup"),a=qe("table-header"),d=qe("table-body"),f=qe("table-footer"),r=qe("el-scrollbar"),s=El("mousewheel");return Q(),ae("div",{ref:"tableWrapper",class:q([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:Ze(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[oe("div",{class:q(e.ns.e("inner-wrapper"))},[oe("div",{ref:"hiddenColumns",class:"hidden-columns"},[ye(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?rt((Q(),ae("div",{key:0,ref:"headerWrapper",class:q(e.ns.e("header-wrapper"))},[oe("table",{ref:"tableHeader",class:q(e.ns.e("header")),style:Ze(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[J(c,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),J(a,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[s,e.handleHeaderFooterMousewheel]]):Le("v-if",!0),oe("div",{ref:"bodyWrapper",class:q(e.ns.e("body-wrapper"))},[J(r,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,onScroll:u=>e.$emit("scroll",u)},{default:te(()=>[oe("table",{ref:"tableBody",class:q(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Ze({width:e.bodyWidth,tableLayout:e.tableLayout})},[J(c,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(Q(),Be(a,{key:0,ref:"tableHeaderRef",class:q(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Le("v-if",!0),J(d,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(Q(),Be(f,{key:1,class:q(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Le("v-if",!0)],6),e.isEmpty?(Q(),ae("div",{key:0,ref:"emptyBlock",style:Ze(e.emptyBlockStyle),class:q(e.ns.e("empty-block"))},[oe("span",{class:q(e.ns.e("empty-text"))},[ye(e.$slots,"empty",{},()=>[Ye(Ve(e.computedEmptyText),1)])],2)],6)):Le("v-if",!0),e.$slots.append?(Q(),ae("div",{key:1,ref:"appendWrapper",class:q(e.ns.e("append-wrapper"))},[ye(e.$slots,"append")],2)):Le("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),e.showSummary&&e.tableLayout==="fixed"?rt((Q(),ae("div",{key:1,ref:"footerWrapper",class:q(e.ns.e("footer-wrapper"))},[oe("table",{class:q(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Ze(e.tableBodyStyles)},[J(c,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),J(f,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Xt,!e.isEmpty],[s,e.handleHeaderFooterMousewheel]]):Le("v-if",!0),e.border||e.isGroup?(Q(),ae("div",{key:2,class:q(e.ns.e("border-left-patch"))},null,2)):Le("v-if",!0)],2),rt(oe("div",{ref:"resizeProxy",class:q(e.ns.e("column-resize-proxy"))},null,2),[[Xt,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var Fs=tt(As,[["render",xs],["__file","table.vue"]]);const Rs={selection:"table-column--selection",expand:"table__expand-column"},ks={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Ls=e=>Rs[e]||"",Ms={selection:{renderHeader({store:e,column:o}){function i(){return e.states.data.value&&e.states.data.value.length===0}return ne(Lt,{disabled:i(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:o.label})},renderCell({row:e,column:o,store:i,$index:n}){return ne(Lt,{disabled:o.selectable?!o.selectable.call(null,e,n):!1,size:i.states.tableSize.value,onChange:()=>{i.commit("rowSelectedChanged",e)},onClick:t=>t.stopPropagation(),modelValue:i.isSelected(e),ariaLabel:o.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:o}){let i=o+1;const n=e.index;return Ke(n)?i=o+n:De(n)&&(i=n(o)),ne("div",{},[i])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:o,expanded:i}){const{ns:n}=o,t=[n.e("expand-icon")];return i&&t.push(n.em("expand-icon","expanded")),ne("div",{class:t,onClick:function(c){c.stopPropagation(),o.toggleRowExpansion(e)}},{default:()=>[ne(Bt,null,{default:()=>[ne(xl)]})]})},sortable:!1,resizable:!1}};function Ts({row:e,column:o,$index:i}){var n;const t=o.property,l=t&&Ml(e,t).value;return o&&o.formatter?o.formatter(e,o,l,i):((n=l==null?void 0:l.toString)==null?void 0:n.call(l))||""}function _s({row:e,treeNode:o,store:i},n=!1){const{ns:t}=i;if(!o)return n?[ne("span",{class:t.e("placeholder")})]:null;const l=[],c=function(a){a.stopPropagation(),!o.loading&&i.loadOrToggle(e)};if(o.indent&&l.push(ne("span",{class:t.e("indent"),style:{"padding-left":`${o.indent}px`}})),Je(o.expanded)&&!o.noLazyChildren){const a=[t.e("expand-icon"),o.expanded?t.em("expand-icon","expanded"):""];let d=xl;o.loading&&(d=$o),l.push(ne("div",{class:a,onClick:c},{default:()=>[ne(Bt,{class:{[t.is("loading")]:o.loading}},{default:()=>[ne(d)]})]}))}else l.push(ne("span",{class:t.e("placeholder")}));return l}function cl(e,o){return e.reduce((i,n)=>(i[n]=n,i),o)}function Os(e,o){const i=Me();return{registerComplexWatchers:()=>{const l=["fixed"],c={realWidth:"width",realMinWidth:"minWidth"},a=cl(l,c);Object.keys(a).forEach(d=>{const f=c[d];Ht(o,f)&&Se(()=>o[f],r=>{let s=r;f==="width"&&d==="realWidth"&&(s=Wn(r)),f==="minWidth"&&d==="realMinWidth"&&(s=Bl(r)),i.columnConfig.value[f]=s,i.columnConfig.value[d]=s;const u=f==="fixed";e.value.store.scheduleLayout(u)})})},registerNormalWatchers:()=>{const l=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter"],c={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=cl(l,c);Object.keys(a).forEach(d=>{const f=c[d];Ht(o,f)&&Se(()=>o[f],r=>{i.columnConfig.value[d]=r})})}}}function Ns(e,o,i){const n=Me(),t=$(""),l=$(!1),c=$(),a=$(),d=xe("table");Et(()=>{c.value=e.align?`is-${e.align}`:null,c.value}),Et(()=>{a.value=e.headerAlign?`is-${e.headerAlign}`:c.value,a.value});const f=K(()=>{let p=n.vnode.vParent||n.parent;for(;p&&!p.tableId&&!p.columnId;)p=p.vnode.vParent||p.parent;return p}),r=K(()=>{const{store:p}=n.parent;if(!p)return!1;const{treeData:y}=p.states,b=y.value;return b&&Object.keys(b).length>0}),s=$(Wn(e.width)),u=$(Bl(e.minWidth)),h=p=>(s.value&&(p.width=s.value),u.value&&(p.minWidth=u.value),!s.value&&u.value&&(p.width=void 0),p.minWidth||(p.minWidth=80),p.realWidth=Number(Xe(p.width)?p.minWidth:p.width),p),v=p=>{const y=p.type,b=Ms[y]||{};Object.keys(b).forEach(m=>{const g=b[m];m!=="className"&&!Xe(g)&&(p[m]=g)});const x=Ls(y);if(x){const m=`${B(d.namespace)}-${x}`;p.className=p.className?`${p.className} ${m}`:m}return p},E=p=>{Ae(p)?p.forEach(b=>y(b)):y(p);function y(b){var x;((x=b==null?void 0:b.type)==null?void 0:x.name)==="ElTableColumn"&&(b.vParent=n)}};return{columnId:t,realAlign:c,isSubColumn:l,realHeaderAlign:a,columnOrTableParent:f,setColumnWidth:h,setColumnForcedProps:v,setColumnRenders:p=>{e.renderHeader||p.type!=="selection"&&(p.renderHeader=b=>(n.columnConfig.value.label,ye(o,"header",b,()=>[p.label]))),o["filter-icon"]&&(p.renderFilterIcon=b=>ye(o,"filter-icon",b));let y=p.renderCell;return p.type==="expand"?(p.renderCell=b=>ne("div",{class:"cell"},[y(b)]),i.value.renderExpanded=b=>o.default?o.default(b):o.default):(y=y||Ts,p.renderCell=b=>{let x=null;if(o.default){const _=o.default(b);x=_.some(T=>T.type!==Bo)?_:y(b)}else x=y(b);const{columns:m}=i.value.store.states,g=m.value.findIndex(_=>_.type==="default"),R=r.value&&b.cellIndex===g,k=_s(b,R),L={class:"cell",style:{}};return p.showOverflowTooltip&&(L.class=`${L.class} ${B(d.namespace)}-tooltip`,L.style={width:`${(b.column.realWidth||Number(b.column.width))-1}px`}),E(x),ne("div",L,[k,x])}),p},getPropsData:(...p)=>p.reduce((y,b)=>(Ae(b)&&b.forEach(x=>{y[x]=e[x]}),y),{}),getColumnElIndex:(p,y)=>Array.prototype.indexOf.call(p,y),updateColumnOrder:()=>{i.value.store.commit("updateColumnOrder",n.columnConfig.value)}}}var Is={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(o=>["ascending","descending",null].includes(o))}};let Ps=1;var ao=ve({name:"ElTableColumn",components:{ElCheckbox:Lt},props:Is,setup(e,{slots:o}){const i=Me(),n=$({}),t=K(()=>{let M=i.parent;for(;M&&!M.tableId;)M=M.parent;return M}),{registerNormalWatchers:l,registerComplexWatchers:c}=Os(t,e),{columnId:a,isSubColumn:d,realHeaderAlign:f,columnOrTableParent:r,setColumnWidth:s,setColumnForcedProps:u,setColumnRenders:h,getPropsData:v,getColumnElIndex:E,realAlign:A,updateColumnOrder:C}=Ns(e,o,t),N=r.value;a.value=`${N.tableId||N.columnId}_column_${Ps++}`,Al(()=>{d.value=t.value!==N;const M=e.type||"default",p=e.sortable===""?!0:e.sortable,y=Xe(e.showOverflowTooltip)?N.props.showOverflowTooltip:e.showOverflowTooltip,b=Xe(e.tooltipFormatter)?N.props.tooltipFormatter:e.tooltipFormatter,x={...ks[M],id:a.value,type:M,property:e.prop||e.property,align:A,headerAlign:f,showOverflowTooltip:y,tooltipFormatter:b,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:p,index:e.index,rawColumnKey:i.vnode.key};let L=v(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);L=ma(x,L),L=ba(h,s,u)(L),n.value=L,l(),c()}),ct(()=>{var M;const p=r.value,y=d.value?p.vnode.el.children:(M=p.refs.hiddenColumns)==null?void 0:M.children,b=()=>E(y||[],i.vnode.el);n.value.getColumnIndex=b,b()>-1&&t.value.store.commit("insertColumn",n.value,d.value?p.columnConfig.value:null,C)}),an(()=>{const M=n.value.getColumnIndex;(M?M():-1)>-1&&t.value.store.commit("removeColumn",n.value,d.value?N.columnConfig.value:null,C)}),i.columnId=a.value,i.columnConfig=n},render(){var e,o,i;try{const n=(o=(e=this.$slots).default)==null?void 0:o.call(e,{row:{},column:{},$index:-1}),t=[];if(Ae(n))for(const c of n)((i=c.type)==null?void 0:i.name)==="ElTableColumn"||c.shapeFlag&2?t.push(c):c.type===Pt&&Ae(c.children)&&c.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!ze(a==null?void 0:a.children)&&t.push(a)});return ne("div",t)}catch{return ne("div",[])}}});const Us=cn(Fs,{TableColumn:ao}),Hs=Pn(ao),so=e=>{if(!e)return{onClick:hn,onMousedown:hn,onMouseup:hn};let o=!1,i=!1;return{onClick:c=>{o&&i&&e(c),o=i=!1},onMousedown:c=>{o=c.target===c.currentTarget},onMouseup:c=>{i=c.target===c.currentTarget}}},$s=gt({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:At([String,Array,Object])},zIndex:{type:At([String,Number])}}),Bs={click:e=>e instanceof MouseEvent},zs="overlay";var Ws=ve({name:"ElOverlay",props:$s,emits:Bs,setup(e,{slots:o,emit:i}){const n=xe(zs),t=d=>{i("click",d)},{onClick:l,onMousedown:c,onMouseup:a}=so(e.customMaskEvent?void 0:t);return()=>e.mask?J("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:l,onMousedown:c,onMouseup:a},[ye(o,"default")],vn.STYLE|vn.CLASS|vn.PROPS,["onClick","onMouseup","onMousedown"]):ne("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[ye(o,"default")])}});const Ds=Ws,io=Symbol("dialogInjectionKey"),uo=gt({center:Boolean,alignCenter:Boolean,closeIcon:{type:zo},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Vs={close:()=>!0},Ks=(e,o,i,n)=>{let t={offsetX:0,offsetY:0};const l=f=>{const r=f.clientX,s=f.clientY,{offsetX:u,offsetY:h}=t,v=e.value.getBoundingClientRect(),E=v.left,A=v.top,C=v.width,N=v.height,M=document.documentElement.clientWidth,p=document.documentElement.clientHeight,y=-E+u,b=-A+h,x=M-E-C+u,m=p-A-N+h,g=k=>{let L=u+k.clientX-r,_=h+k.clientY-s;n!=null&&n.value||(L=Math.min(Math.max(L,y),x),_=Math.min(Math.max(_,b),m)),t={offsetX:L,offsetY:_},e.value&&(e.value.style.transform=`translate(${Ut(L)}, ${Ut(_)})`)},R=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",R)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",R)},c=()=>{o.value&&e.value&&o.value.addEventListener("mousedown",l)},a=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",l)},d=()=>{t={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return ct(()=>{Et(()=>{i.value?c():a()})}),an(()=>{a()}),{resetPosition:d}},js=(...e)=>o=>{e.forEach(i=>{De(i)?i(o):i.value=o})},Gs=ve({name:"ElDialogContent"}),Ys=ve({...Gs,props:uo,emits:Vs,setup(e,{expose:o}){const i=e,{t:n}=Bn(),{Close:t}=Do,{dialogRef:l,headerRef:c,bodyId:a,ns:d,style:f}=Ee(io),{focusTrapRef:r}=Ee(Wo),s=K(()=>[d.b(),d.is("fullscreen",i.fullscreen),d.is("draggable",i.draggable),d.is("align-center",i.alignCenter),{[d.m("center")]:i.center}]),u=js(r,l),h=K(()=>i.draggable),v=K(()=>i.overflow),{resetPosition:E}=Ks(l,c,h,v);return o({resetPosition:E}),(A,C)=>(Q(),ae("div",{ref:B(u),class:q(B(s)),style:Ze(B(f)),tabindex:"-1"},[oe("header",{ref_key:"headerRef",ref:c,class:q([B(d).e("header"),A.headerClass,{"show-close":A.showClose}])},[ye(A.$slots,"header",{},()=>[oe("span",{role:"heading","aria-level":A.ariaLevel,class:q(B(d).e("title"))},Ve(A.title),11,["aria-level"])]),A.showClose?(Q(),ae("button",{key:0,"aria-label":B(n)("el.dialog.close"),class:q(B(d).e("headerbtn")),type:"button",onClick:N=>A.$emit("close")},[J(B(Bt),{class:q(B(d).e("close"))},{default:te(()=>[(Q(),Be(un(A.closeIcon||B(t))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Le("v-if",!0)],2),oe("div",{id:B(a),class:q([B(d).e("body"),A.bodyClass])},[ye(A.$slots,"default")],10,["id"]),A.$slots.footer?(Q(),ae("footer",{key:0,class:q([B(d).e("footer"),A.footerClass])},[ye(A.$slots,"footer")],2)):Le("v-if",!0)],6))}});var qs=tt(Ys,[["__file","dialog-content.vue"]]);const Xs=gt({...uo,appendToBody:Boolean,appendTo:{type:At([String,Object]),default:"body"},beforeClose:{type:At(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),Qs={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Mt]:e=>Je(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Zs=(e,o={})=>{Ft(e)||On("[useLockscreen]","You need to pass a ref param to this function");const i=o.ns||xe("popup"),n=K(()=>i.bm("parent","hidden"));if(!it||vt(document.body,n.value))return;let t=0,l=!1,c="0";const a=()=>{setTimeout(()=>{typeof document>"u"||l&&document&&(document.body.style.width=c,Rt(document.body,n.value))},200)};Se(e,d=>{if(!d){a();return}l=!vt(document.body,n.value),l&&(c=document.body.style.width,$t(document.body,n.value)),t=Cr(i.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,r=Ko(document.body,"overflowY");t>0&&(f||r==="scroll")&&l&&(document.body.style.width=`calc(100% - ${t}px)`)}),Vo(()=>a())},Js=(e,o)=>{var i;const t=Me().emit,{nextZIndex:l}=jo();let c="";const a=el(),d=el(),f=$(!1),r=$(!1),s=$(!1),u=$((i=e.zIndex)!=null?i:l());let h,v;const E=hr("namespace",Go),A=K(()=>{const O={},S=`--${E.value}-dialog`;return e.fullscreen||(e.top&&(O[`${S}-margin-top`]=e.top),e.width&&(O[`${S}-width`]=Ut(e.width))),O}),C=K(()=>e.alignCenter?{display:"flex"}:{});function N(){t("opened")}function M(){t("closed"),t(Mt,!1),e.destroyOnClose&&(s.value=!1)}function p(){t("close")}function y(){v==null||v(),h==null||h(),e.openDelay&&e.openDelay>0?{stop:h}=tl(()=>g(),e.openDelay):g()}function b(){h==null||h(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=tl(()=>R(),e.closeDelay):R()}function x(){function O(S){S||(r.value=!0,f.value=!1)}e.beforeClose?e.beforeClose(O):b()}function m(){e.closeOnClickModal&&x()}function g(){it&&(f.value=!0)}function R(){f.value=!1}function k(){t("openAutoFocus")}function L(){t("closeAutoFocus")}function _(O){var S;((S=O.detail)==null?void 0:S.focusReason)==="pointer"&&O.preventDefault()}e.lockScroll&&Zs(f);function T(){e.closeOnPressEscape&&x()}return Se(()=>e.modelValue,O=>{O?(r.value=!1,y(),s.value=!0,u.value=Yo(e.zIndex)?l():u.value++,et(()=>{t("open"),o.value&&(o.value.parentElement.scrollTop=0,o.value.parentElement.scrollLeft=0,o.value.scrollTop=0)})):f.value&&b()}),Se(()=>e.fullscreen,O=>{o.value&&(O?(c=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=c)}),ct(()=>{e.modelValue&&(f.value=!0,s.value=!0,y())}),{afterEnter:N,afterLeave:M,beforeLeave:p,handleClose:x,onModalClick:m,close:b,doClose:R,onOpenAutoFocus:k,onCloseAutoFocus:L,onCloseRequested:T,onFocusoutPrevented:_,titleId:a,bodyId:d,closed:r,style:A,overlayDialogStyle:C,rendered:s,visible:f,zIndex:u}},ei=ve({name:"ElDialog",inheritAttrs:!1}),ti=ve({...ei,props:Xs,emits:Qs,setup(e,{expose:o}){const i=e,n=In();Dt({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},K(()=>!!n.title));const t=xe("dialog"),l=$(),c=$(),a=$(),{visible:d,titleId:f,bodyId:r,style:s,overlayDialogStyle:u,rendered:h,zIndex:v,afterEnter:E,afterLeave:A,beforeLeave:C,handleClose:N,onModalClick:M,onOpenAutoFocus:p,onCloseAutoFocus:y,onCloseRequested:b,onFocusoutPrevented:x}=Js(i,l);sn(io,{dialogRef:l,headerRef:c,bodyId:r,ns:t,rendered:h,style:s});const m=so(M),g=K(()=>i.draggable&&!i.fullscreen);return o({visible:d,dialogContentRef:a,resetPosition:()=>{var k;(k=a.value)==null||k.resetPosition()}}),(k,L)=>(Q(),Be(B(Zo),{to:k.appendTo,disabled:k.appendTo!=="body"?!1:!k.appendToBody},{default:te(()=>[J(gl,{name:"dialog-fade",onAfterEnter:B(E),onAfterLeave:B(A),onBeforeLeave:B(C),persisted:""},{default:te(()=>[rt(J(B(Ds),{"custom-mask-event":"",mask:k.modal,"overlay-class":k.modalClass,"z-index":B(v)},{default:te(()=>[oe("div",{role:"dialog","aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:B(f),"aria-describedby":B(r),class:q(`${B(t).namespace.value}-overlay-dialog`),style:Ze(B(u)),onClick:B(m).onClick,onMousedown:B(m).onMousedown,onMouseup:B(m).onMouseup},[J(B(qo),{loop:"",trapped:B(d),"focus-start-el":"container",onFocusAfterTrapped:B(p),onFocusAfterReleased:B(y),onFocusoutPrevented:B(x),onReleaseRequested:B(b)},{default:te(()=>[B(h)?(Q(),Be(qs,Xo({key:0,ref_key:"dialogContentRef",ref:a},k.$attrs,{center:k.center,"align-center":k.alignCenter,"close-icon":k.closeIcon,draggable:B(g),overflow:k.overflow,fullscreen:k.fullscreen,"header-class":k.headerClass,"body-class":k.bodyClass,"footer-class":k.footerClass,"show-close":k.showClose,title:k.title,"aria-level":k.headerAriaLevel,onClose:B(N)}),Qo({header:te(()=>[k.$slots.title?ye(k.$slots,"title",{key:1}):ye(k.$slots,"header",{key:0,close:B(N),titleId:B(f),titleClass:B(t).e("title")})]),default:te(()=>[ye(k.$slots,"default")]),_:2},[k.$slots.footer?{name:"footer",fn:te(()=>[ye(k.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):Le("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Xt,B(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var ni=tt(ti,[["__file","dialog.vue"]]);const li=cn(ni);function oi(e,o){return o.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(n){if(n!=="default"&&!(n in e)){var t=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(e,n,t.get?t:{enumerable:!0,get:function(){return i[n]}})}})}),Object.freeze(e)}function co(e,o){return new Promise(function(i,n){let t;return ri(e).then(function(l){try{return t=l,i(new Blob([o.slice(0,2),t,o.slice(2)],{type:"image/jpeg"}))}catch(c){return n(c)}},n)})}const ri=e=>new Promise((o,i)=>{const n=new FileReader;n.addEventListener("load",({target:{result:t}})=>{const l=new DataView(t);let c=0;if(l.getUint16(c)!==65496)return i("not a valid JPEG");for(c+=2;;){const a=l.getUint16(c);if(a===65498)break;const d=l.getUint16(c+2);if(a===65505&&l.getUint32(c+4)===1165519206){const f=c+10;let r;switch(l.getUint16(f)){case 18761:r=!0;break;case 19789:r=!1;break;default:return i("TIFF header contains invalid endian")}if(l.getUint16(f+2,r)!==42)return i("TIFF header contains invalid version");const s=l.getUint32(f+4,r),u=f+s+2+12*l.getUint16(f+s,r);for(let h=f+s+2;h<u;h+=12)if(l.getUint16(h,r)==274){if(l.getUint16(h+2,r)!==3)return i("Orientation data type is invalid");if(l.getUint32(h+4,r)!==1)return i("Orientation data count is invalid");l.setUint16(h+8,1,r);break}return o(t.slice(c,c+2+d))}c+=2+d}return o(new Blob)}),n.readAsArrayBuffer(e)});var tn={},ai={get exports(){return tn},set exports(e){tn=e}};(function(e){var o,i,n={};ai.exports=n,n.parse=function(t,l){for(var c=n.bin.readUshort,a=n.bin.readUint,d=0,f={},r=new Uint8Array(t),s=r.length-4;a(r,s)!=101010256;)s--;d=s,d+=4;var u=c(r,d+=4);c(r,d+=2);var h=a(r,d+=2),v=a(r,d+=4);d+=4,d=v;for(var E=0;E<u;E++){a(r,d),d+=4,d+=4,d+=4,a(r,d+=4),h=a(r,d+=4);var A=a(r,d+=4),C=c(r,d+=4),N=c(r,d+2),M=c(r,d+4);d+=6;var p=a(r,d+=8);d+=4,d+=C+N+M,n._readLocal(r,p,f,h,A,l)}return f},n._readLocal=function(t,l,c,a,d,f){var r=n.bin.readUshort,s=n.bin.readUint;s(t,l),r(t,l+=4),r(t,l+=2);var u=r(t,l+=2);s(t,l+=2),s(t,l+=4),l+=4;var h=r(t,l+=8),v=r(t,l+=2);l+=2;var E=n.bin.readUTF8(t,l,h);if(l+=h,l+=v,f)c[E]={size:d,csize:a};else{var A=new Uint8Array(t.buffer,l);if(u==0)c[E]=new Uint8Array(A.buffer.slice(l,l+a));else{if(u!=8)throw"unknown compression method: "+u;var C=new Uint8Array(d);n.inflateRaw(A,C),c[E]=C}}},n.inflateRaw=function(t,l){return n.F.inflate(t,l)},n.inflate=function(t,l){return t[0],t[1],n.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),l)},n.deflate=function(t,l){l==null&&(l={level:6});var c=0,a=new Uint8Array(50+Math.floor(1.1*t.length));a[c]=120,a[c+1]=156,c+=2,c=n.F.deflateRaw(t,a,c,l.level);var d=n.adler(t,0,t.length);return a[c+0]=d>>>24&255,a[c+1]=d>>>16&255,a[c+2]=d>>>8&255,a[c+3]=d>>>0&255,new Uint8Array(a.buffer,0,c+4)},n.deflateRaw=function(t,l){l==null&&(l={level:6});var c=new Uint8Array(50+Math.floor(1.1*t.length)),a=n.F.deflateRaw(t,c,a,l.level);return new Uint8Array(c.buffer,0,a)},n.encode=function(t,l){l==null&&(l=!1);var c=0,a=n.bin.writeUint,d=n.bin.writeUshort,f={};for(var r in t){var s=!n._noNeed(r)&&!l,u=t[r],h=n.crc.crc(u,0,u.length);f[r]={cpr:s,usize:u.length,crc:h,file:s?n.deflateRaw(u):u}}for(var r in f)c+=f[r].file.length+30+46+2*n.bin.sizeUTF8(r);c+=22;var v=new Uint8Array(c),E=0,A=[];for(var r in f){var C=f[r];A.push(E),E=n._writeHeader(v,E,r,C,0)}var N=0,M=E;for(var r in f)C=f[r],A.push(E),E=n._writeHeader(v,E,r,C,1,A[N++]);var p=E-M;return a(v,E,101010256),E+=4,d(v,E+=4,N),d(v,E+=2,N),a(v,E+=2,p),a(v,E+=4,M),E+=4,E+=2,v.buffer},n._noNeed=function(t){var l=t.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(l)!=-1},n._writeHeader=function(t,l,c,a,d,f){var r=n.bin.writeUint,s=n.bin.writeUshort,u=a.file;return r(t,l,d==0?67324752:33639248),l+=4,d==1&&(l+=2),s(t,l,20),s(t,l+=2,0),s(t,l+=2,a.cpr?8:0),r(t,l+=2,0),r(t,l+=4,a.crc),r(t,l+=4,u.length),r(t,l+=4,a.usize),s(t,l+=4,n.bin.sizeUTF8(c)),s(t,l+=2,0),l+=2,d==1&&(l+=2,l+=2,r(t,l+=6,f),l+=4),l+=n.bin.writeUTF8(t,l,c),d==0&&(t.set(u,l),l+=u.length),l},n.crc={table:function(){for(var t=new Uint32Array(256),l=0;l<256;l++){for(var c=l,a=0;a<8;a++)1&c?c=3988292384^c>>>1:c>>>=1;t[l]=c}return t}(),update:function(t,l,c,a){for(var d=0;d<a;d++)t=n.crc.table[255&(t^l[c+d])]^t>>>8;return t},crc:function(t,l,c){return 4294967295^n.crc.update(4294967295,t,l,c)}},n.adler=function(t,l,c){for(var a=1,d=0,f=l,r=l+c;f<r;){for(var s=Math.min(f+5552,r);f<s;)d+=a+=t[f++];a%=65521,d%=65521}return d<<16|a},n.bin={readUshort:function(t,l){return t[l]|t[l+1]<<8},writeUshort:function(t,l,c){t[l]=255&c,t[l+1]=c>>8&255},readUint:function(t,l){return 16777216*t[l+3]+(t[l+2]<<16|t[l+1]<<8|t[l])},writeUint:function(t,l,c){t[l]=255&c,t[l+1]=c>>8&255,t[l+2]=c>>16&255,t[l+3]=c>>24&255},readASCII:function(t,l,c){for(var a="",d=0;d<c;d++)a+=String.fromCharCode(t[l+d]);return a},writeASCII:function(t,l,c){for(var a=0;a<c.length;a++)t[l+a]=c.charCodeAt(a)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,l,c){for(var a,d="",f=0;f<c;f++)d+="%"+n.bin.pad(t[l+f].toString(16));try{a=decodeURIComponent(d)}catch{return n.bin.readASCII(t,l,c)}return a},writeUTF8:function(t,l,c){for(var a=c.length,d=0,f=0;f<a;f++){var r=c.charCodeAt(f);if(!(4294967168&r))t[l+d]=r,d++;else if(!(4294965248&r))t[l+d]=192|r>>6,t[l+d+1]=128|r>>0&63,d+=2;else if(!(4294901760&r))t[l+d]=224|r>>12,t[l+d+1]=128|r>>6&63,t[l+d+2]=128|r>>0&63,d+=3;else{if(4292870144&r)throw"e";t[l+d]=240|r>>18,t[l+d+1]=128|r>>12&63,t[l+d+2]=128|r>>6&63,t[l+d+3]=128|r>>0&63,d+=4}}return d},sizeUTF8:function(t){for(var l=t.length,c=0,a=0;a<l;a++){var d=t.charCodeAt(a);if(!(4294967168&d))c++;else if(!(4294965248&d))c+=2;else if(!(4294901760&d))c+=3;else{if(4292870144&d)throw"e";c+=4}}return c}},n.F={},n.F.deflateRaw=function(t,l,c,a){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],f=n.F.U,r=n.F._goodIndex;n.F._hash;var s=n.F._putsE,u=0,h=c<<3,v=0,E=t.length;if(a==0){for(;u<E;)s(l,h,u+(k=Math.min(65535,E-u))==E?1:0),h=n.F._copyExact(t,u,k,l,h+8),u+=k;return h>>>3}var A=f.lits,C=f.strt,N=f.prev,M=0,p=0,y=0,b=0,x=0,m=0;for(E>2&&(C[m=n.F._hash(t,0)]=0),u=0;u<E;u++){if(x=m,u+1<E-2){m=n.F._hash(t,u+1);var g=u+1&32767;N[g]=C[m],C[m]=g}if(v<=u){(M>14e3||p>26697)&&E-u>100&&(v<u&&(A[M]=u-v,M+=2,v=u),h=n.F._writeBlock(u==E-1||v==E?1:0,A,M,b,t,y,u-y,l,h),M=p=b=0,y=u);var R=0;u<E-2&&(R=n.F._bestMatch(t,u,N,x,Math.min(d[2],E-u),d[3]));var k=R>>>16,L=65535&R;if(R!=0){L=65535&R;var _=r(k=R>>>16,f.of0);f.lhst[257+_]++;var T=r(L,f.df0);f.dhst[T]++,b+=f.exb[_]+f.dxb[T],A[M]=k<<23|u-v,A[M+1]=L<<16|_<<8|T,M+=2,v=u+k}else f.lhst[t[u]]++;p++}}for(y==u&&t.length!=0||(v<u&&(A[M]=u-v,M+=2,v=u),h=n.F._writeBlock(1,A,M,b,t,y,u-y,l,h),M=0,p=0,M=p=b=0,y=u);7&h;)h++;return h>>>3},n.F._bestMatch=function(t,l,c,a,d,f){var r=32767&l,s=c[r],u=r-s+32768&32767;if(s==r||a!=n.F._hash(t,l-u))return 0;for(var h=0,v=0,E=Math.min(32767,l);u<=E&&--f!=0&&s!=r;){if(h==0||t[l+h]==t[l+h-u]){var A=n.F._howLong(t,l,u);if(A>h){if(v=u,(h=A)>=d)break;u+2<A&&(A=u+2);for(var C=0,N=0;N<A-2;N++){var M=l-u+N+32768&32767,p=M-c[M]+32768&32767;p>C&&(C=p,s=M)}}}u+=(r=s)-(s=c[r])+32768&32767}return h<<16|v},n.F._howLong=function(t,l,c){if(t[l]!=t[l-c]||t[l+1]!=t[l+1-c]||t[l+2]!=t[l+2-c])return 0;var a=l,d=Math.min(t.length,l+258);for(l+=3;l<d&&t[l]==t[l-c];)l++;return l-a},n.F._hash=function(t,l){return(t[l]<<8|t[l+1])+(t[l+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(t,l,c,a,d,f,r,s,u){var h,v,E,A,C,N,M,p,y,b=n.F.U,x=n.F._putsF,m=n.F._putsE;b.lhst[256]++,v=(h=n.F.getTrees())[0],E=h[1],A=h[2],C=h[3],N=h[4],M=h[5],p=h[6],y=h[7];var g=32+(u+3&7?8-(u+3&7):0)+(r<<3),R=a+n.F.contSize(b.fltree,b.lhst)+n.F.contSize(b.fdtree,b.dhst),k=a+n.F.contSize(b.ltree,b.lhst)+n.F.contSize(b.dtree,b.dhst);k+=14+3*M+n.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var L=0;L<286;L++)b.lhst[L]=0;for(L=0;L<30;L++)b.dhst[L]=0;for(L=0;L<19;L++)b.ihst[L]=0;var _=g<R&&g<k?0:R<k?1:2;if(x(s,u,t),x(s,u+1,_),u+=3,_==0){for(;7&u;)u++;u=n.F._copyExact(d,f,r,s,u)}else{var T,O;if(_==1&&(T=b.fltree,O=b.fdtree),_==2){n.F.makeCodes(b.ltree,v),n.F.revCodes(b.ltree,v),n.F.makeCodes(b.dtree,E),n.F.revCodes(b.dtree,E),n.F.makeCodes(b.itree,A),n.F.revCodes(b.itree,A),T=b.ltree,O=b.dtree,m(s,u,C-257),m(s,u+=5,N-1),m(s,u+=5,M-4),u+=4;for(var S=0;S<M;S++)m(s,u+3*S,b.itree[1+(b.ordr[S]<<1)]);u+=3*M,u=n.F._codeTiny(p,b.itree,s,u),u=n.F._codeTiny(y,b.itree,s,u)}for(var w=f,I=0;I<c;I+=2){for(var F=l[I],P=F>>>23,D=w+(8388607&F);w<D;)u=n.F._writeLit(d[w++],T,s,u);if(P!=0){var z=l[I+1],W=z>>16,H=z>>8&255,U=255&z;m(s,u=n.F._writeLit(257+H,T,s,u),P-b.of0[H]),u+=b.exb[H],x(s,u=n.F._writeLit(U,O,s,u),W-b.df0[U]),u+=b.dxb[U],w+=P}}u=n.F._writeLit(256,T,s,u)}return u},n.F._copyExact=function(t,l,c,a,d){var f=d>>>3;return a[f]=c,a[f+1]=c>>>8,a[f+2]=255-a[f],a[f+3]=255-a[f+1],f+=4,a.set(new Uint8Array(t.buffer,l,c),f),d+(c+4<<3)},n.F.getTrees=function(){for(var t=n.F.U,l=n.F._hufTree(t.lhst,t.ltree,15),c=n.F._hufTree(t.dhst,t.dtree,15),a=[],d=n.F._lenCodes(t.ltree,a),f=[],r=n.F._lenCodes(t.dtree,f),s=0;s<a.length;s+=2)t.ihst[a[s]]++;for(s=0;s<f.length;s+=2)t.ihst[f[s]]++;for(var u=n.F._hufTree(t.ihst,t.itree,7),h=19;h>4&&t.itree[1+(t.ordr[h-1]<<1)]==0;)h--;return[l,c,u,d,r,h,a,f]},n.F.getSecond=function(t){for(var l=[],c=0;c<t.length;c+=2)l.push(t[c+1]);return l},n.F.nonZero=function(t){for(var l="",c=0;c<t.length;c+=2)t[c+1]!=0&&(l+=(c>>1)+",");return l},n.F.contSize=function(t,l){for(var c=0,a=0;a<l.length;a++)c+=l[a]*t[1+(a<<1)];return c},n.F._codeTiny=function(t,l,c,a){for(var d=0;d<t.length;d+=2){var f=t[d],r=t[d+1];a=n.F._writeLit(f,l,c,a);var s=f==16?2:f==17?3:7;f>15&&(n.F._putsE(c,a,r,s),a+=s)}return a},n.F._lenCodes=function(t,l){for(var c=t.length;c!=2&&t[c-1]==0;)c-=2;for(var a=0;a<c;a+=2){var d=t[a+1],f=a+3<c?t[a+3]:-1,r=a+5<c?t[a+5]:-1,s=a==0?-1:t[a-1];if(d==0&&f==d&&r==d){for(var u=a+5;u+2<c&&t[u+2]==d;)u+=2;(h=Math.min(u+1-a>>>1,138))<11?l.push(17,h-3):l.push(18,h-11),a+=2*h-2}else if(d==s&&f==d&&r==d){for(u=a+5;u+2<c&&t[u+2]==d;)u+=2;var h=Math.min(u+1-a>>>1,6);l.push(16,h-3),a+=2*h-2}else l.push(d,0)}return c>>>1},n.F._hufTree=function(t,l,c){var a=[],d=t.length,f=l.length,r=0;for(r=0;r<f;r+=2)l[r]=0,l[r+1]=0;for(r=0;r<d;r++)t[r]!=0&&a.push({lit:r,f:t[r]});var s=a.length,u=a.slice(0);if(s==0)return 0;if(s==1){var h=a[0].lit;return u=h==0?1:0,l[1+(h<<1)]=1,l[1+(u<<1)]=1,1}a.sort(function(p,y){return p.f-y.f});var v=a[0],E=a[1],A=0,C=1,N=2;for(a[0]={lit:-1,f:v.f+E.f,l:v,r:E,d:0};C!=s-1;)v=A!=C&&(N==s||a[A].f<a[N].f)?a[A++]:a[N++],E=A!=C&&(N==s||a[A].f<a[N].f)?a[A++]:a[N++],a[C++]={lit:-1,f:v.f+E.f,l:v,r:E};var M=n.F.setDepth(a[C-1],0);for(M>c&&(n.F.restrictDepth(u,c,M),M=c),r=0;r<s;r++)l[1+(u[r].lit<<1)]=u[r].d;return M},n.F.setDepth=function(t,l){return t.lit!=-1?(t.d=l,l):Math.max(n.F.setDepth(t.l,l+1),n.F.setDepth(t.r,l+1))},n.F.restrictDepth=function(t,l,c){var a=0,d=1<<c-l,f=0;for(t.sort(function(s,u){return u.d==s.d?s.f-u.f:u.d-s.d}),a=0;a<t.length&&t[a].d>l;a++){var r=t[a].d;t[a].d=l,f+=d-(1<<c-r)}for(f>>>=c-l;f>0;)(r=t[a].d)<l?(t[a].d++,f-=1<<l-r-1):a++;for(;a>=0;a--)t[a].d==l&&f<0&&(t[a].d--,f++);f!=0&&console.log("debt left")},n.F._goodIndex=function(t,l){var c=0;return l[16|c]<=t&&(c|=16),l[8|c]<=t&&(c|=8),l[4|c]<=t&&(c|=4),l[2|c]<=t&&(c|=2),l[1|c]<=t&&(c|=1),c},n.F._writeLit=function(t,l,c,a){return n.F._putsF(c,a,l[t<<1]),a+l[1+(t<<1)]},n.F.inflate=function(t,l){var c=Uint8Array;if(t[0]==3&&t[1]==0)return l||new c(0);var a=n.F,d=a._bitsF,f=a._bitsE,r=a._decodeTiny,s=a.makeCodes,u=a.codes2map,h=a._get17,v=a.U,E=l==null;E&&(l=new c(t.length>>>2<<3));for(var A,C,N=0,M=0,p=0,y=0,b=0,x=0,m=0,g=0,R=0;N==0;)if(N=d(t,R,1),M=d(t,R+1,2),R+=3,M!=0){if(E&&(l=n.F._check(l,g+(1<<17))),M==1&&(A=v.flmap,C=v.fdmap,x=511,m=31),M==2){p=f(t,R,5)+257,y=f(t,R+5,5)+1,b=f(t,R+10,4)+4,R+=14;for(var k=0;k<38;k+=2)v.itree[k]=0,v.itree[k+1]=0;var L=1;for(k=0;k<b;k++){var _=f(t,R+3*k,3);v.itree[1+(v.ordr[k]<<1)]=_,_>L&&(L=_)}R+=3*b,s(v.itree,L),u(v.itree,L,v.imap),A=v.lmap,C=v.dmap,R=r(v.imap,(1<<L)-1,p+y,t,R,v.ttree);var T=a._copyOut(v.ttree,0,p,v.ltree);x=(1<<T)-1;var O=a._copyOut(v.ttree,p,y,v.dtree);m=(1<<O)-1,s(v.ltree,T),u(v.ltree,T,A),s(v.dtree,O),u(v.dtree,O,C)}for(;;){var S=A[h(t,R)&x];R+=15&S;var w=S>>>4;if(!(w>>>8))l[g++]=w;else{if(w==256)break;var I=g+w-254;if(w>264){var F=v.ldef[w-257];I=g+(F>>>3)+f(t,R,7&F),R+=7&F}var P=C[h(t,R)&m];R+=15&P;var D=P>>>4,z=v.ddef[D],W=(z>>>4)+d(t,R,15&z);for(R+=15&z,E&&(l=n.F._check(l,g+(1<<17)));g<I;)l[g]=l[g++-W],l[g]=l[g++-W],l[g]=l[g++-W],l[g]=l[g++-W];g=I}}}else{7&R&&(R+=8-(7&R));var H=4+(R>>>3),U=t[H-4]|t[H-3]<<8;E&&(l=n.F._check(l,g+U)),l.set(new c(t.buffer,t.byteOffset+H,U),g),R=H+U<<3,g+=U}return l.length==g?l:l.slice(0,g)},n.F._check=function(t,l){var c=t.length;if(l<=c)return t;var a=new Uint8Array(Math.max(c<<1,l));return a.set(t,0),a},n.F._decodeTiny=function(t,l,c,a,d,f){for(var r=n.F._bitsE,s=n.F._get17,u=0;u<c;){var h=t[s(a,d)&l];d+=15&h;var v=h>>>4;if(v<=15)f[u]=v,u++;else{var E=0,A=0;v==16?(A=3+r(a,d,2),d+=2,E=f[u-1]):v==17?(A=3+r(a,d,3),d+=3):v==18&&(A=11+r(a,d,7),d+=7);for(var C=u+A;u<C;)f[u]=E,u++}}return d},n.F._copyOut=function(t,l,c,a){for(var d=0,f=0,r=a.length>>>1;f<c;){var s=t[f+l];a[f<<1]=0,a[1+(f<<1)]=s,s>d&&(d=s),f++}for(;f<r;)a[f<<1]=0,a[1+(f<<1)]=0,f++;return d},n.F.makeCodes=function(t,l){for(var c,a,d,f,r=n.F.U,s=t.length,u=r.bl_count,h=0;h<=l;h++)u[h]=0;for(h=1;h<s;h+=2)u[t[h]]++;var v=r.next_code;for(c=0,u[0]=0,a=1;a<=l;a++)c=c+u[a-1]<<1,v[a]=c;for(d=0;d<s;d+=2)(f=t[d+1])!=0&&(t[d]=v[f],v[f]++)},n.F.codes2map=function(t,l,c){for(var a=t.length,d=n.F.U.rev15,f=0;f<a;f+=2)if(t[f+1]!=0)for(var r=f>>1,s=t[f+1],u=r<<4|s,h=l-s,v=t[f]<<h,E=v+(1<<h);v!=E;)c[d[v]>>>15-l]=u,v++},n.F.revCodes=function(t,l){for(var c=n.F.U.rev15,a=15-l,d=0;d<t.length;d+=2){var f=t[d]<<l-t[d+1];t[d]=c[f]>>>a}},n.F._putsE=function(t,l,c){c<<=7&l;var a=l>>>3;t[a]|=c,t[a+1]|=c>>>8},n.F._putsF=function(t,l,c){c<<=7&l;var a=l>>>3;t[a]|=c,t[a+1]|=c>>>8,t[a+2]|=c>>>16},n.F._bitsE=function(t,l,c){return(t[l>>>3]|t[1+(l>>>3)]<<8)>>>(7&l)&(1<<c)-1},n.F._bitsF=function(t,l,c){return(t[l>>>3]|t[1+(l>>>3)]<<8|t[2+(l>>>3)]<<16)>>>(7&l)&(1<<c)-1},n.F._get17=function(t,l){return(t[l>>>3]|t[1+(l>>>3)]<<8|t[2+(l>>>3)]<<16)>>>(7&l)},n.F._get25=function(t,l){return(t[l>>>3]|t[1+(l>>>3)]<<8|t[2+(l>>>3)]<<16|t[3+(l>>>3)]<<24)>>>(7&l)},n.F.U=(o=Uint16Array,i=Uint32Array,{next_code:new o(16),bl_count:new o(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new o(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new o(512),fltree:[],fdmap:new o(32),fdtree:[],lmap:new o(32768),ltree:[],ttree:[],dmap:new o(32768),dtree:[],imap:new o(512),itree:[],rev15:new o(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new o(65536),prev:new o(32768)}),function(){for(var t=n.F.U,l=0;l<32768;l++){var c=l;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,t.rev15[l]=(c>>>16|c<<16)>>>17}function a(d,f,r){for(;f--!=0;)d.push(0,r)}for(l=0;l<32;l++)t.ldef[l]=t.of0[l]<<3|t.exb[l],t.ddef[l]=t.df0[l]<<4|t.dxb[l];a(t.fltree,144,8),a(t.fltree,112,9),a(t.fltree,24,7),a(t.fltree,8,8),n.F.makeCodes(t.fltree,9),n.F.codes2map(t.fltree,9,t.flmap),n.F.revCodes(t.fltree,9),a(t.fdtree,32,5),n.F.makeCodes(t.fdtree,5),n.F.codes2map(t.fdtree,5,t.fdmap),n.F.revCodes(t.fdtree,5),a(t.itree,19,0),a(t.ltree,286,0),a(t.dtree,30,0),a(t.ttree,320,0)}()})();var si=oi({__proto__:null,default:tn},[tn]);const Qe=function(){var e={nextZero(r,s){for(;r[s]!=0;)s++;return s},readUshort:(r,s)=>r[s]<<8|r[s+1],writeUshort(r,s,u){r[s]=u>>8&255,r[s+1]=255&u},readUint:(r,s)=>16777216*r[s]+(r[s+1]<<16|r[s+2]<<8|r[s+3]),writeUint(r,s,u){r[s]=u>>24&255,r[s+1]=u>>16&255,r[s+2]=u>>8&255,r[s+3]=255&u},readASCII(r,s,u){let h="";for(let v=0;v<u;v++)h+=String.fromCharCode(r[s+v]);return h},writeASCII(r,s,u){for(let h=0;h<u.length;h++)r[s+h]=u.charCodeAt(h)},readBytes(r,s,u){const h=[];for(let v=0;v<u;v++)h.push(r[s+v]);return h},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,s,u){let h,v="";for(let E=0;E<u;E++)v+=`%${e.pad(r[s+E].toString(16))}`;try{h=decodeURIComponent(v)}catch{return e.readASCII(r,s,u)}return h}};function o(r,s,u,h){const v=s*u,E=l(h),A=Math.ceil(s*E/8),C=new Uint8Array(4*v),N=new Uint32Array(C.buffer),{ctype:M}=h,{depth:p}=h,y=e.readUshort;if(M==6){const F=v<<2;if(p==8)for(var b=0;b<F;b+=4)C[b]=r[b],C[b+1]=r[b+1],C[b+2]=r[b+2],C[b+3]=r[b+3];if(p==16)for(b=0;b<F;b++)C[b]=r[b<<1]}else if(M==2){const F=h.tabs.tRNS;if(F==null){if(p==8)for(b=0;b<v;b++){var x=3*b;N[b]=255<<24|r[x+2]<<16|r[x+1]<<8|r[x]}if(p==16)for(b=0;b<v;b++)x=6*b,N[b]=255<<24|r[x+4]<<16|r[x+2]<<8|r[x]}else{var m=F[0];const P=F[1],D=F[2];if(p==8)for(b=0;b<v;b++){var g=b<<2;x=3*b,N[b]=255<<24|r[x+2]<<16|r[x+1]<<8|r[x],r[x]==m&&r[x+1]==P&&r[x+2]==D&&(C[g+3]=0)}if(p==16)for(b=0;b<v;b++)g=b<<2,x=6*b,N[b]=255<<24|r[x+4]<<16|r[x+2]<<8|r[x],y(r,x)==m&&y(r,x+2)==P&&y(r,x+4)==D&&(C[g+3]=0)}}else if(M==3){const F=h.tabs.PLTE,P=h.tabs.tRNS,D=P?P.length:0;if(p==1)for(var R=0;R<u;R++){var k=R*A,L=R*s;for(b=0;b<s;b++){g=L+b<<2;var _=3*(T=r[k+(b>>3)]>>7-((7&b)<<0)&1);C[g]=F[_],C[g+1]=F[_+1],C[g+2]=F[_+2],C[g+3]=T<D?P[T]:255}}if(p==2)for(R=0;R<u;R++)for(k=R*A,L=R*s,b=0;b<s;b++)g=L+b<<2,_=3*(T=r[k+(b>>2)]>>6-((3&b)<<1)&3),C[g]=F[_],C[g+1]=F[_+1],C[g+2]=F[_+2],C[g+3]=T<D?P[T]:255;if(p==4)for(R=0;R<u;R++)for(k=R*A,L=R*s,b=0;b<s;b++)g=L+b<<2,_=3*(T=r[k+(b>>1)]>>4-((1&b)<<2)&15),C[g]=F[_],C[g+1]=F[_+1],C[g+2]=F[_+2],C[g+3]=T<D?P[T]:255;if(p==8)for(b=0;b<v;b++){var T;g=b<<2,_=3*(T=r[b]),C[g]=F[_],C[g+1]=F[_+1],C[g+2]=F[_+2],C[g+3]=T<D?P[T]:255}}else if(M==4){if(p==8)for(b=0;b<v;b++){g=b<<2;var O=r[S=b<<1];C[g]=O,C[g+1]=O,C[g+2]=O,C[g+3]=r[S+1]}if(p==16)for(b=0;b<v;b++){var S;g=b<<2,O=r[S=b<<2],C[g]=O,C[g+1]=O,C[g+2]=O,C[g+3]=r[S+2]}}else if(M==0)for(m=h.tabs.tRNS?h.tabs.tRNS:-1,R=0;R<u;R++){const F=R*A,P=R*s;if(p==1)for(var w=0;w<s;w++){var I=(O=255*(r[F+(w>>>3)]>>>7-(7&w)&1))==255*m?0:255;N[P+w]=I<<24|O<<16|O<<8|O}else if(p==2)for(w=0;w<s;w++)I=(O=85*(r[F+(w>>>2)]>>>6-((3&w)<<1)&3))==85*m?0:255,N[P+w]=I<<24|O<<16|O<<8|O;else if(p==4)for(w=0;w<s;w++)I=(O=17*(r[F+(w>>>1)]>>>4-((1&w)<<2)&15))==17*m?0:255,N[P+w]=I<<24|O<<16|O<<8|O;else if(p==8)for(w=0;w<s;w++)I=(O=r[F+w])==m?0:255,N[P+w]=I<<24|O<<16|O<<8|O;else if(p==16)for(w=0;w<s;w++)O=r[F+(w<<1)],I=y(r,F+(w<<1))==m?0:255,N[P+w]=I<<24|O<<16|O<<8|O}return C}function i(r,s,u,h){const v=l(r),E=Math.ceil(u*v/8),A=new Uint8Array((E+1+r.interlace)*h);return s=r.tabs.CgBI?t(s,A):n(s,A),r.interlace==0?s=c(s,r,0,u,h):r.interlace==1&&(s=function(N,M){const p=M.width,y=M.height,b=l(M),x=b>>3,m=Math.ceil(p*b/8),g=new Uint8Array(y*m);let R=0;const k=[0,0,4,0,2,0,1],L=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],T=[8,8,4,4,2,2,1];let O=0;for(;O<7;){const w=_[O],I=T[O];let F=0,P=0,D=k[O];for(;D<y;)D+=w,P++;let z=L[O];for(;z<p;)z+=I,F++;const W=Math.ceil(F*b/8);c(N,M,R,F,P);let H=0,U=k[O];for(;U<y;){let j=L[O],Z=R+H*W<<3;for(;j<p;){var S;if(b==1&&(S=(S=N[Z>>3])>>7-(7&Z)&1,g[U*m+(j>>3)]|=S<<7-((7&j)<<0)),b==2&&(S=(S=N[Z>>3])>>6-(7&Z)&3,g[U*m+(j>>2)]|=S<<6-((3&j)<<1)),b==4&&(S=(S=N[Z>>3])>>4-(7&Z)&15,g[U*m+(j>>1)]|=S<<4-((1&j)<<2)),b>=8){const ee=U*m+j*x;for(let X=0;X<x;X++)g[ee+X]=N[(Z>>3)+X]}Z+=b,j+=I}H++,U+=w}F*P!=0&&(R+=P*(1+W)),O+=1}return g}(s,r)),s}function n(r,s){return t(new Uint8Array(r.buffer,2,r.length-6),s)}var t=function(){const r={H:{}};return r.H.N=function(s,u){const h=Uint8Array;let v,E,A=0,C=0,N=0,M=0,p=0,y=0,b=0,x=0,m=0;if(s[0]==3&&s[1]==0)return u||new h(0);const g=r.H,R=g.b,k=g.e,L=g.R,_=g.n,T=g.A,O=g.Z,S=g.m,w=u==null;for(w&&(u=new h(s.length>>>2<<5));A==0;)if(A=R(s,m,1),C=R(s,m+1,2),m+=3,C!=0){if(w&&(u=r.H.W(u,x+(1<<17))),C==1&&(v=S.J,E=S.h,y=511,b=31),C==2){N=k(s,m,5)+257,M=k(s,m+5,5)+1,p=k(s,m+10,4)+4,m+=14;let F=1;for(var I=0;I<38;I+=2)S.Q[I]=0,S.Q[I+1]=0;for(I=0;I<p;I++){const z=k(s,m+3*I,3);S.Q[1+(S.X[I]<<1)]=z,z>F&&(F=z)}m+=3*p,_(S.Q,F),T(S.Q,F,S.u),v=S.w,E=S.d,m=L(S.u,(1<<F)-1,N+M,s,m,S.v);const P=g.V(S.v,0,N,S.C);y=(1<<P)-1;const D=g.V(S.v,N,M,S.D);b=(1<<D)-1,_(S.C,P),T(S.C,P,v),_(S.D,D),T(S.D,D,E)}for(;;){const F=v[O(s,m)&y];m+=15&F;const P=F>>>4;if(!(P>>>8))u[x++]=P;else{if(P==256)break;{let D=x+P-254;if(P>264){const j=S.q[P-257];D=x+(j>>>3)+k(s,m,7&j),m+=7&j}const z=E[O(s,m)&b];m+=15&z;const W=z>>>4,H=S.c[W],U=(H>>>4)+R(s,m,15&H);for(m+=15&H;x<D;)u[x]=u[x++-U],u[x]=u[x++-U],u[x]=u[x++-U],u[x]=u[x++-U];x=D}}}}else{7&m&&(m+=8-(7&m));const F=4+(m>>>3),P=s[F-4]|s[F-3]<<8;w&&(u=r.H.W(u,x+P)),u.set(new h(s.buffer,s.byteOffset+F,P),x),m=F+P<<3,x+=P}return u.length==x?u:u.slice(0,x)},r.H.W=function(s,u){const h=s.length;if(u<=h)return s;const v=new Uint8Array(h<<1);return v.set(s,0),v},r.H.R=function(s,u,h,v,E,A){const C=r.H.e,N=r.H.Z;let M=0;for(;M<h;){const p=s[N(v,E)&u];E+=15&p;const y=p>>>4;if(y<=15)A[M]=y,M++;else{let b=0,x=0;y==16?(x=3+C(v,E,2),E+=2,b=A[M-1]):y==17?(x=3+C(v,E,3),E+=3):y==18&&(x=11+C(v,E,7),E+=7);const m=M+x;for(;M<m;)A[M]=b,M++}}return E},r.H.V=function(s,u,h,v){let E=0,A=0;const C=v.length>>>1;for(;A<h;){const N=s[A+u];v[A<<1]=0,v[1+(A<<1)]=N,N>E&&(E=N),A++}for(;A<C;)v[A<<1]=0,v[1+(A<<1)]=0,A++;return E},r.H.n=function(s,u){const h=r.H.m,v=s.length;let E,A,C,N;const M=h.j;for(var p=0;p<=u;p++)M[p]=0;for(p=1;p<v;p+=2)M[s[p]]++;const y=h.K;for(E=0,M[0]=0,A=1;A<=u;A++)E=E+M[A-1]<<1,y[A]=E;for(C=0;C<v;C+=2)N=s[C+1],N!=0&&(s[C]=y[N],y[N]++)},r.H.A=function(s,u,h){const v=s.length,E=r.H.m.r;for(let A=0;A<v;A+=2)if(s[A+1]!=0){const C=A>>1,N=s[A+1],M=C<<4|N,p=u-N;let y=s[A]<<p;const b=y+(1<<p);for(;y!=b;)h[E[y]>>>15-u]=M,y++}},r.H.l=function(s,u){const h=r.H.m.r,v=15-u;for(let E=0;E<s.length;E+=2){const A=s[E]<<u-s[E+1];s[E]=h[A]>>>v}},r.H.M=function(s,u,h){h<<=7&u;const v=u>>>3;s[v]|=h,s[v+1]|=h>>>8},r.H.I=function(s,u,h){h<<=7&u;const v=u>>>3;s[v]|=h,s[v+1]|=h>>>8,s[v+2]|=h>>>16},r.H.e=function(s,u,h){return(s[u>>>3]|s[1+(u>>>3)]<<8)>>>(7&u)&(1<<h)-1},r.H.b=function(s,u,h){return(s[u>>>3]|s[1+(u>>>3)]<<8|s[2+(u>>>3)]<<16)>>>(7&u)&(1<<h)-1},r.H.Z=function(s,u){return(s[u>>>3]|s[1+(u>>>3)]<<8|s[2+(u>>>3)]<<16)>>>(7&u)},r.H.i=function(s,u){return(s[u>>>3]|s[1+(u>>>3)]<<8|s[2+(u>>>3)]<<16|s[3+(u>>>3)]<<24)>>>(7&u)},r.H.m=function(){const s=Uint16Array,u=Uint32Array;return{K:new s(16),j:new s(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new s(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new u(32),J:new s(512),_:[],h:new s(32),$:[],w:new s(32768),C:[],v:[],d:new s(32768),D:[],u:new s(512),Q:[],r:new s(32768),s:new u(286),Y:new u(30),a:new u(19),t:new u(15e3),k:new s(65536),g:new s(32768)}}(),function(){const s=r.H.m;for(var u=0;u<32768;u++){let v=u;v=(2863311530&v)>>>1|(1431655765&v)<<1,v=(3435973836&v)>>>2|(858993459&v)<<2,v=(4042322160&v)>>>4|(252645135&v)<<4,v=(4278255360&v)>>>8|(16711935&v)<<8,s.r[u]=(v>>>16|v<<16)>>>17}function h(v,E,A){for(;E--!=0;)v.push(0,A)}for(u=0;u<32;u++)s.q[u]=s.S[u]<<3|s.T[u],s.c[u]=s.p[u]<<4|s.z[u];h(s._,144,8),h(s._,112,9),h(s._,24,7),h(s._,8,8),r.H.n(s._,9),r.H.A(s._,9,s.J),r.H.l(s._,9),h(s.$,32,5),r.H.n(s.$,5),r.H.A(s.$,5,s.h),r.H.l(s.$,5),h(s.Q,19,0),h(s.C,286,0),h(s.D,30,0),h(s.v,320,0)}(),r.H.N}();function l(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function c(r,s,u,h,v){let E=l(s);const A=Math.ceil(h*E/8);let C,N;E=Math.ceil(E/8);let M=r[u],p=0;if(M>1&&(r[u]=[0,0,1][M-2]),M==3)for(p=E;p<A;p++)r[p+1]=r[p+1]+(r[p+1-E]>>>1)&255;for(let y=0;y<v;y++)if(C=u+y*A,N=C+y+1,M=r[N-1],p=0,M==0)for(;p<A;p++)r[C+p]=r[N+p];else if(M==1){for(;p<E;p++)r[C+p]=r[N+p];for(;p<A;p++)r[C+p]=r[N+p]+r[C+p-E]}else if(M==2)for(;p<A;p++)r[C+p]=r[N+p]+r[C+p-A];else if(M==3){for(;p<E;p++)r[C+p]=r[N+p]+(r[C+p-A]>>>1);for(;p<A;p++)r[C+p]=r[N+p]+(r[C+p-A]+r[C+p-E]>>>1)}else{for(;p<E;p++)r[C+p]=r[N+p]+a(0,r[C+p-A],0);for(;p<A;p++)r[C+p]=r[N+p]+a(r[C+p-E],r[C+p-A],r[C+p-E-A])}return r}function a(r,s,u){const h=r+s-u,v=h-r,E=h-s,A=h-u;return v*v<=E*E&&v*v<=A*A?r:E*E<=A*A?s:u}function d(r,s,u){u.width=e.readUint(r,s),s+=4,u.height=e.readUint(r,s),s+=4,u.depth=r[s],s++,u.ctype=r[s],s++,u.compress=r[s],s++,u.filter=r[s],s++,u.interlace=r[s],s++}function f(r,s,u,h,v,E,A,C,N){const M=Math.min(s,v),p=Math.min(u,E);let y=0,b=0;for(let O=0;O<p;O++)for(let S=0;S<M;S++)if(A>=0&&C>=0?(y=O*s+S<<2,b=(C+O)*v+A+S<<2):(y=(-C+O)*s-A+S<<2,b=O*v+S<<2),N==0)h[b]=r[y],h[b+1]=r[y+1],h[b+2]=r[y+2],h[b+3]=r[y+3];else if(N==1){var x=r[y+3]*.00392156862745098,m=r[y]*x,g=r[y+1]*x,R=r[y+2]*x,k=h[b+3]*(1/255),L=h[b]*k,_=h[b+1]*k,T=h[b+2]*k;const w=1-x,I=x+k*w,F=I==0?0:1/I;h[b+3]=255*I,h[b+0]=(m+L*w)*F,h[b+1]=(g+_*w)*F,h[b+2]=(R+T*w)*F}else if(N==2)x=r[y+3],m=r[y],g=r[y+1],R=r[y+2],k=h[b+3],L=h[b],_=h[b+1],T=h[b+2],x==k&&m==L&&g==_&&R==T?(h[b]=0,h[b+1]=0,h[b+2]=0,h[b+3]=0):(h[b]=m,h[b+1]=g,h[b+2]=R,h[b+3]=x);else if(N==3){if(x=r[y+3],m=r[y],g=r[y+1],R=r[y+2],k=h[b+3],L=h[b],_=h[b+1],T=h[b+2],x==k&&m==L&&g==_&&R==T)continue;if(x<220&&k>20)return!1}return!0}return{decode:function(s){const u=new Uint8Array(s);let h=8;const v=e,E=v.readUshort,A=v.readUint,C={tabs:{},frames:[]},N=new Uint8Array(u.length);let M,p=0,y=0;const b=[137,80,78,71,13,10,26,10];for(var x=0;x<8;x++)if(u[x]!=b[x])throw"The input is not a PNG file!";for(;h<u.length;){const O=v.readUint(u,h);h+=4;const S=v.readASCII(u,h,4);if(h+=4,S=="IHDR")d(u,h,C);else if(S=="iCCP"){for(var m=h;u[m]!=0;)m++;v.readASCII(u,h,m-h),u[m+1];const w=u.slice(m+2,h+O);let I=null;try{I=n(w)}catch{I=t(w)}C.tabs[S]=I}else if(S=="CgBI")C.tabs[S]=u.slice(h,h+4);else if(S=="IDAT"){for(x=0;x<O;x++)N[p+x]=u[h+x];p+=O}else if(S=="acTL")C.tabs[S]={num_frames:A(u,h),num_plays:A(u,h+4)},M=new Uint8Array(u.length);else if(S=="fcTL"){y!=0&&((T=C.frames[C.frames.length-1]).data=i(C,M.slice(0,y),T.rect.width,T.rect.height),y=0);const w={x:A(u,h+12),y:A(u,h+16),width:A(u,h+4),height:A(u,h+8)};let I=E(u,h+22);I=E(u,h+20)/(I==0?100:I);const F={rect:w,delay:Math.round(1e3*I),dispose:u[h+24],blend:u[h+25]};C.frames.push(F)}else if(S=="fdAT"){for(x=0;x<O-4;x++)M[y+x]=u[h+x+4];y+=O-4}else if(S=="pHYs")C.tabs[S]=[v.readUint(u,h),v.readUint(u,h+4),u[h+8]];else if(S=="cHRM")for(C.tabs[S]=[],x=0;x<8;x++)C.tabs[S].push(v.readUint(u,h+4*x));else if(S=="tEXt"||S=="zTXt"){C.tabs[S]==null&&(C.tabs[S]={});var g=v.nextZero(u,h),R=v.readASCII(u,h,g-h),k=h+O-g-1;if(S=="tEXt")_=v.readASCII(u,g+1,k);else{var L=n(u.slice(g+2,g+2+k));_=v.readUTF8(L,0,L.length)}C.tabs[S][R]=_}else if(S=="iTXt"){C.tabs[S]==null&&(C.tabs[S]={}),g=0,m=h,g=v.nextZero(u,m),R=v.readASCII(u,m,g-m);const w=u[m=g+1];var _;u[m+1],m+=2,g=v.nextZero(u,m),v.readASCII(u,m,g-m),m=g+1,g=v.nextZero(u,m),v.readUTF8(u,m,g-m),k=O-((m=g+1)-h),w==0?_=v.readUTF8(u,m,k):(L=n(u.slice(m,m+k)),_=v.readUTF8(L,0,L.length)),C.tabs[S][R]=_}else if(S=="PLTE")C.tabs[S]=v.readBytes(u,h,O);else if(S=="hIST"){const w=C.tabs.PLTE.length/3;for(C.tabs[S]=[],x=0;x<w;x++)C.tabs[S].push(E(u,h+2*x))}else if(S=="tRNS")C.ctype==3?C.tabs[S]=v.readBytes(u,h,O):C.ctype==0?C.tabs[S]=E(u,h):C.ctype==2&&(C.tabs[S]=[E(u,h),E(u,h+2),E(u,h+4)]);else if(S=="gAMA")C.tabs[S]=v.readUint(u,h)/1e5;else if(S=="sRGB")C.tabs[S]=u[h];else if(S=="bKGD")C.ctype==0||C.ctype==4?C.tabs[S]=[E(u,h)]:C.ctype==2||C.ctype==6?C.tabs[S]=[E(u,h),E(u,h+2),E(u,h+4)]:C.ctype==3&&(C.tabs[S]=u[h]);else if(S=="IEND")break;h+=O,v.readUint(u,h),h+=4}var T;return y!=0&&((T=C.frames[C.frames.length-1]).data=i(C,M.slice(0,y),T.rect.width,T.rect.height)),C.data=i(C,N,C.width,C.height),delete C.compress,delete C.interlace,delete C.filter,C},toRGBA8:function(s){const u=s.width,h=s.height;if(s.tabs.acTL==null)return[o(s.data,u,h,s).buffer];const v=[];s.frames[0].data==null&&(s.frames[0].data=s.data);const E=u*h*4,A=new Uint8Array(E),C=new Uint8Array(E),N=new Uint8Array(E);for(let p=0;p<s.frames.length;p++){const y=s.frames[p],b=y.rect.x,x=y.rect.y,m=y.rect.width,g=y.rect.height,R=o(y.data,m,g,s);if(p!=0)for(var M=0;M<E;M++)N[M]=A[M];if(y.blend==0?f(R,m,g,A,u,h,b,x,0):y.blend==1&&f(R,m,g,A,u,h,b,x,1),v.push(A.buffer.slice(0)),y.dispose!=0){if(y.dispose==1)f(C,m,g,A,u,h,b,x,0);else if(y.dispose==2)for(M=0;M<E;M++)A[M]=N[M]}}return v},_paeth:a,_copyTile:f,_bin:e}}();(function(){const{_copyTile:e}=Qe,{_bin:o}=Qe,i=Qe._paeth;var n={table:function(){const m=new Uint32Array(256);for(let g=0;g<256;g++){let R=g;for(let k=0;k<8;k++)1&R?R=3988292384^R>>>1:R>>>=1;m[g]=R}return m}(),update(m,g,R,k){for(let L=0;L<k;L++)m=n.table[255&(m^g[R+L])]^m>>>8;return m},crc:(m,g,R)=>4294967295^n.update(4294967295,m,g,R)};function t(m,g,R,k){g[R]+=m[0]*k>>4,g[R+1]+=m[1]*k>>4,g[R+2]+=m[2]*k>>4,g[R+3]+=m[3]*k>>4}function l(m){return Math.max(0,Math.min(255,m))}function c(m,g){const R=m[0]-g[0],k=m[1]-g[1],L=m[2]-g[2],_=m[3]-g[3];return R*R+k*k+L*L+_*_}function a(m,g,R,k,L,_,T){T==null&&(T=1);const O=k.length,S=[];for(var w=0;w<O;w++){const U=k[w];S.push([U>>>0&255,U>>>8&255,U>>>16&255,U>>>24&255])}for(w=0;w<O;w++){let U=4294967295;for(var I=0,F=0;F<O;F++){var P=c(S[w],S[F]);F!=w&&P<U&&(U=P,I=F)}}const D=new Uint32Array(L.buffer),z=new Int16Array(g*R*4),W=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(w=0;w<W.length;w++)W[w]=255*((W[w]+.5)/16-.5);for(let U=0;U<R;U++)for(let j=0;j<g;j++){var H;w=4*(U*g+j),T!=2?H=[l(m[w]+z[w]),l(m[w+1]+z[w+1]),l(m[w+2]+z[w+2]),l(m[w+3]+z[w+3])]:(P=W[4*(3&U)+(3&j)],H=[l(m[w]+P),l(m[w+1]+P),l(m[w+2]+P),l(m[w+3]+P)]),I=0;let Z=16777215;for(F=0;F<O;F++){const re=c(H,S[F]);re<Z&&(Z=re,I=F)}const ee=S[I],X=[H[0]-ee[0],H[1]-ee[1],H[2]-ee[2],H[3]-ee[3]];T==1&&(j!=g-1&&t(X,z,w+4,7),U!=R-1&&(j!=0&&t(X,z,w+4*g-4,3),t(X,z,w+4*g,5),j!=g-1&&t(X,z,w+4*g+4,1))),_[w>>2]=I,D[w>>2]=k[I]}}function d(m,g,R,k,L){L==null&&(L={});const{crc:_}=n,T=o.writeUint,O=o.writeUshort,S=o.writeASCII;let w=8;const I=m.frames.length>1;let F,P=!1,D=33+(I?20:0);if(L.sRGB!=null&&(D+=13),L.pHYs!=null&&(D+=21),L.iCCP!=null&&(F=pako.deflate(L.iCCP),D+=21+F.length+4),m.ctype==3){for(var z=m.plte.length,W=0;W<z;W++)m.plte[W]>>>24!=255&&(P=!0);D+=8+3*z+4+(P?8+1*z+4:0)}for(var H=0;H<m.frames.length;H++)I&&(D+=38),D+=(ee=m.frames[H]).cimg.length+12,H!=0&&(D+=4);D+=12;const U=new Uint8Array(D),j=[137,80,78,71,13,10,26,10];for(W=0;W<8;W++)U[W]=j[W];if(T(U,w,13),w+=4,S(U,w,"IHDR"),w+=4,T(U,w,g),w+=4,T(U,w,R),w+=4,U[w]=m.depth,w++,U[w]=m.ctype,w++,U[w]=0,w++,U[w]=0,w++,U[w]=0,w++,T(U,w,_(U,w-17,17)),w+=4,L.sRGB!=null&&(T(U,w,1),w+=4,S(U,w,"sRGB"),w+=4,U[w]=L.sRGB,w++,T(U,w,_(U,w-5,5)),w+=4),L.iCCP!=null){const X=13+F.length;T(U,w,X),w+=4,S(U,w,"iCCP"),w+=4,S(U,w,"ICC profile"),w+=11,w+=2,U.set(F,w),w+=F.length,T(U,w,_(U,w-(X+4),X+4)),w+=4}if(L.pHYs!=null&&(T(U,w,9),w+=4,S(U,w,"pHYs"),w+=4,T(U,w,L.pHYs[0]),w+=4,T(U,w,L.pHYs[1]),w+=4,U[w]=L.pHYs[2],w++,T(U,w,_(U,w-13,13)),w+=4),I&&(T(U,w,8),w+=4,S(U,w,"acTL"),w+=4,T(U,w,m.frames.length),w+=4,T(U,w,L.loop!=null?L.loop:0),w+=4,T(U,w,_(U,w-12,12)),w+=4),m.ctype==3){for(T(U,w,3*(z=m.plte.length)),w+=4,S(U,w,"PLTE"),w+=4,W=0;W<z;W++){const X=3*W,re=m.plte[W],fe=255&re,be=re>>>8&255,at=re>>>16&255;U[w+X+0]=fe,U[w+X+1]=be,U[w+X+2]=at}if(w+=3*z,T(U,w,_(U,w-3*z-4,3*z+4)),w+=4,P){for(T(U,w,z),w+=4,S(U,w,"tRNS"),w+=4,W=0;W<z;W++)U[w+W]=m.plte[W]>>>24&255;w+=z,T(U,w,_(U,w-z-4,z+4)),w+=4}}let Z=0;for(H=0;H<m.frames.length;H++){var ee=m.frames[H];I&&(T(U,w,26),w+=4,S(U,w,"fcTL"),w+=4,T(U,w,Z++),w+=4,T(U,w,ee.rect.width),w+=4,T(U,w,ee.rect.height),w+=4,T(U,w,ee.rect.x),w+=4,T(U,w,ee.rect.y),w+=4,O(U,w,k[H]),w+=2,O(U,w,1e3),w+=2,U[w]=ee.dispose,w++,U[w]=ee.blend,w++,T(U,w,_(U,w-30,30)),w+=4);const X=ee.cimg;T(U,w,(z=X.length)+(H==0?0:4)),w+=4;const re=w;S(U,w,H==0?"IDAT":"fdAT"),w+=4,H!=0&&(T(U,w,Z++),w+=4),U.set(X,w),w+=z,T(U,w,_(U,re,w-re)),w+=4}return T(U,w,0),w+=4,S(U,w,"IEND"),w+=4,T(U,w,_(U,w-4,4)),w+=4,U.buffer}function f(m,g,R){for(let k=0;k<m.frames.length;k++){const L=m.frames[k];L.rect.width;const _=L.rect.height,T=new Uint8Array(_*L.bpl+_);L.cimg=h(L.img,_,L.bpp,L.bpl,T,g,R)}}function r(m,g,R,k,L){const _=L[0],T=L[1],O=L[2],S=L[3],w=L[4],I=L[5];let F=6,P=8,D=255;for(var z=0;z<m.length;z++){const we=new Uint8Array(m[z]);for(var W=we.length,H=0;H<W;H+=4)D&=we[H+3]}const U=D!=255,j=function(ue,se,Ce,ke,pe,Ne){const me=[];for(var ie=0;ie<ue.length;ie++){const Te=new Uint8Array(ue[ie]),Ge=new Uint32Array(Te.buffer);var Ie;let V=0,G=0,Y=se,le=Ce,ce=ke?1:0;if(ie!=0){const ge=Ne||ke||ie==1||me[ie-2].dispose!=0?1:2;let Re=0,de=1e9;for(let Pe=0;Pe<ge;Pe++){var lt=new Uint8Array(ue[ie-1-Pe]);const yt=new Uint32Array(ue[ie-1-Pe]);let We=se,ut=Ce,wt=-1,_t=-1;for(let dt=0;dt<Ce;dt++)for(let ft=0;ft<se;ft++)Ge[Fe=dt*se+ft]!=yt[Fe]&&(ft<We&&(We=ft),ft>wt&&(wt=ft),dt<ut&&(ut=dt),dt>_t&&(_t=dt));wt==-1&&(We=ut=wt=_t=0),pe&&((1&We)==1&&We--,(1&ut)==1&&ut--);const Yn=(wt-We+1)*(_t-ut+1);Yn<de&&(de=Yn,Re=Pe,V=We,G=ut,Y=wt-We+1,le=_t-ut+1)}lt=new Uint8Array(ue[ie-1-Re]),Re==1&&(me[ie-1].dispose=2),Ie=new Uint8Array(Y*le*4),e(lt,se,Ce,Ie,Y,le,-V,-G,0),ce=e(Te,se,Ce,Ie,Y,le,-V,-G,3)?1:0,ce==1?u(Te,se,Ce,Ie,{x:V,y:G,width:Y,height:le}):e(Te,se,Ce,Ie,Y,le,-V,-G,0)}else Ie=Te.slice(0);me.push({rect:{x:V,y:G,width:Y,height:le},img:Ie,blend:ce,dispose:0})}if(ke)for(ie=0;ie<me.length;ie++){if((st=me[ie]).blend==1)continue;const Te=st.rect,Ge=me[ie-1].rect,V=Math.min(Te.x,Ge.x),G=Math.min(Te.y,Ge.y),Y={x:V,y:G,width:Math.max(Te.x+Te.width,Ge.x+Ge.width)-V,height:Math.max(Te.y+Te.height,Ge.y+Ge.height)-G};me[ie-1].dispose=1,ie-1!=0&&s(ue,se,Ce,me,ie-1,Y,pe),s(ue,se,Ce,me,ie,Y,pe)}let bt=0;if(ue.length!=1)for(var Fe=0;Fe<me.length;Fe++){var st;bt+=(st=me[Fe]).rect.width*st.rect.height}return me}(m,g,R,_,T,O),Z={},ee=[],X=[];if(k!=0){const we=[];for(H=0;H<j.length;H++)we.push(j[H].img.buffer);const ue=function(pe){let Ne=0;for(var me=0;me<pe.length;me++)Ne+=pe[me].byteLength;const ie=new Uint8Array(Ne);let Ie=0;for(me=0;me<pe.length;me++){const lt=new Uint8Array(pe[me]),bt=lt.length;for(let Fe=0;Fe<bt;Fe+=4){let st=lt[Fe],Te=lt[Fe+1],Ge=lt[Fe+2];const V=lt[Fe+3];V==0&&(st=Te=Ge=0),ie[Ie+Fe]=st,ie[Ie+Fe+1]=Te,ie[Ie+Fe+2]=Ge,ie[Ie+Fe+3]=V}Ie+=bt}return ie.buffer}(we),se=E(ue,k);for(H=0;H<se.plte.length;H++)ee.push(se.plte[H].est.rgba);let Ce=0;for(H=0;H<j.length;H++){const ke=(fe=j[H]).img.length;var re=new Uint8Array(se.inds.buffer,Ce>>2,ke>>2);X.push(re);const pe=new Uint8Array(se.abuf,Ce,ke);I&&a(fe.img,fe.rect.width,fe.rect.height,ee,pe,re),fe.img.set(pe),Ce+=ke}}else for(z=0;z<j.length;z++){var fe=j[z];const we=new Uint32Array(fe.img.buffer);var be=fe.rect.width;for(W=we.length,re=new Uint8Array(W),X.push(re),H=0;H<W;H++){const ue=we[H];if(H!=0&&ue==we[H-1])re[H]=re[H-1];else if(H>be&&ue==we[H-be])re[H]=re[H-be];else{let se=Z[ue];if(se==null&&(Z[ue]=se=ee.length,ee.push(ue),ee.length>=300))break;re[H]=se}}}const at=ee.length;for(at<=256&&w==0&&(P=at<=2?1:at<=4?2:at<=16?4:8,P=Math.max(P,S)),z=0;z<j.length;z++){(fe=j[z]).rect.x,fe.rect.y,be=fe.rect.width;const we=fe.rect.height;let ue=fe.img;new Uint32Array(ue.buffer);let se=4*be,Ce=4;if(at<=256&&w==0){se=Math.ceil(P*be/8);var je=new Uint8Array(se*we);const ke=X[z];for(let pe=0;pe<we;pe++){H=pe*se;const Ne=pe*be;if(P==8)for(var he=0;he<be;he++)je[H+he]=ke[Ne+he];else if(P==4)for(he=0;he<be;he++)je[H+(he>>1)]|=ke[Ne+he]<<4-4*(1&he);else if(P==2)for(he=0;he<be;he++)je[H+(he>>2)]|=ke[Ne+he]<<6-2*(3&he);else if(P==1)for(he=0;he<be;he++)je[H+(he>>3)]|=ke[Ne+he]<<7-1*(7&he)}ue=je,F=3,Ce=1}else if(U==0&&j.length==1){je=new Uint8Array(be*we*3);const ke=be*we;for(H=0;H<ke;H++){const pe=3*H,Ne=4*H;je[pe]=ue[Ne],je[pe+1]=ue[Ne+1],je[pe+2]=ue[Ne+2]}ue=je,F=2,Ce=3,se=3*be}fe.img=ue,fe.bpl=se,fe.bpp=Ce}return{ctype:F,depth:P,plte:ee,frames:j}}function s(m,g,R,k,L,_,T){const O=Uint8Array,S=Uint32Array,w=new O(m[L-1]),I=new S(m[L-1]),F=L+1<m.length?new O(m[L+1]):null,P=new O(m[L]),D=new S(P.buffer);let z=g,W=R,H=-1,U=-1;for(let Z=0;Z<_.height;Z++)for(let ee=0;ee<_.width;ee++){const X=_.x+ee,re=_.y+Z,fe=re*g+X,be=D[fe];be==0||k[L-1].dispose==0&&I[fe]==be&&(F==null||F[4*fe+3]!=0)||(X<z&&(z=X),X>H&&(H=X),re<W&&(W=re),re>U&&(U=re))}H==-1&&(z=W=H=U=0),T&&((1&z)==1&&z--,(1&W)==1&&W--),_={x:z,y:W,width:H-z+1,height:U-W+1};const j=k[L];j.rect=_,j.blend=1,j.img=new Uint8Array(_.width*_.height*4),k[L-1].dispose==0?(e(w,g,R,j.img,_.width,_.height,-_.x,-_.y,0),u(P,g,R,j.img,_)):e(P,g,R,j.img,_.width,_.height,-_.x,-_.y,0)}function u(m,g,R,k,L){e(m,g,R,k,L.width,L.height,-L.x,-L.y,2)}function h(m,g,R,k,L,_,T){const O=[];let S,w=[0,1,2,3,4];_!=-1?w=[_]:(g*k>5e5||R==1)&&(w=[0]),T&&(S={level:0});const I=si;for(var F=0;F<w.length;F++){for(let z=0;z<g;z++)v(L,m,z,k,R,w[F]);O.push(I.deflate(L,S))}let P,D=1e9;for(F=0;F<O.length;F++)O[F].length<D&&(P=F,D=O[F].length);return O[P]}function v(m,g,R,k,L,_){const T=R*k;let O=T+R;if(m[O]=_,O++,_==0)if(k<500)for(var S=0;S<k;S++)m[O+S]=g[T+S];else m.set(new Uint8Array(g.buffer,T,k),O);else if(_==1){for(S=0;S<L;S++)m[O+S]=g[T+S];for(S=L;S<k;S++)m[O+S]=g[T+S]-g[T+S-L]+256&255}else if(R==0){for(S=0;S<L;S++)m[O+S]=g[T+S];if(_==2)for(S=L;S<k;S++)m[O+S]=g[T+S];if(_==3)for(S=L;S<k;S++)m[O+S]=g[T+S]-(g[T+S-L]>>1)+256&255;if(_==4)for(S=L;S<k;S++)m[O+S]=g[T+S]-i(g[T+S-L],0,0)+256&255}else{if(_==2)for(S=0;S<k;S++)m[O+S]=g[T+S]+256-g[T+S-k]&255;if(_==3){for(S=0;S<L;S++)m[O+S]=g[T+S]+256-(g[T+S-k]>>1)&255;for(S=L;S<k;S++)m[O+S]=g[T+S]+256-(g[T+S-k]+g[T+S-L]>>1)&255}if(_==4){for(S=0;S<L;S++)m[O+S]=g[T+S]+256-i(0,g[T+S-k],0)&255;for(S=L;S<k;S++)m[O+S]=g[T+S]+256-i(g[T+S-L],g[T+S-k],g[T+S-L-k])&255}}}function E(m,g){const R=new Uint8Array(m),k=R.slice(0),L=new Uint32Array(k.buffer),_=A(k,g),T=_[0],O=_[1],S=R.length,w=new Uint8Array(S>>2);let I;if(R.length<2e7)for(var F=0;F<S;F+=4)I=C(T,P=R[F]*(1/255),D=R[F+1]*(1/255),z=R[F+2]*(1/255),W=R[F+3]*(1/255)),w[F>>2]=I.ind,L[F>>2]=I.est.rgba;else for(F=0;F<S;F+=4){var P=R[F]*.00392156862745098,D=R[F+1]*(1/255),z=R[F+2]*(1/255),W=R[F+3]*(1/255);for(I=T;I.left;)I=N(I.est,P,D,z,W)<=0?I.left:I.right;w[F>>2]=I.ind,L[F>>2]=I.est.rgba}return{abuf:k.buffer,inds:w,plte:O}}function A(m,g,R){R==null&&(R=1e-4);const k=new Uint32Array(m.buffer),L={i0:0,i1:m.length,bst:null,est:null,tdst:0,left:null,right:null};L.bst=y(m,L.i0,L.i1),L.est=b(L.bst);const _=[L];for(;_.length<g;){let O=0,S=0;for(var T=0;T<_.length;T++)_[T].est.L>O&&(O=_[T].est.L,S=T);if(O<R)break;const w=_[S],I=M(m,k,w.i0,w.i1,w.est.e,w.est.eMq255);if(w.i0>=I||w.i1<=I){w.est.L=0;continue}const F={i0:w.i0,i1:I,bst:null,est:null,tdst:0,left:null,right:null};F.bst=y(m,F.i0,F.i1),F.est=b(F.bst);const P={i0:I,i1:w.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:w.bst.N-F.bst.N},T=0;T<16;T++)P.bst.R[T]=w.bst.R[T]-F.bst.R[T];for(T=0;T<4;T++)P.bst.m[T]=w.bst.m[T]-F.bst.m[T];P.est=b(P.bst),w.left=F,w.right=P,_[S]=F,_.push(P)}for(_.sort((O,S)=>S.bst.N-O.bst.N),T=0;T<_.length;T++)_[T].ind=T;return[L,_]}function C(m,g,R,k,L){if(m.left==null)return m.tdst=function(F,P,D,z,W){const H=P-F[0],U=D-F[1],j=z-F[2],Z=W-F[3];return H*H+U*U+j*j+Z*Z}(m.est.q,g,R,k,L),m;const _=N(m.est,g,R,k,L);let T=m.left,O=m.right;_>0&&(T=m.right,O=m.left);const S=C(T,g,R,k,L);if(S.tdst<=_*_)return S;const w=C(O,g,R,k,L);return w.tdst<S.tdst?w:S}function N(m,g,R,k,L){const{e:_}=m;return _[0]*g+_[1]*R+_[2]*k+_[3]*L-m.eMq}function M(m,g,R,k,L,_){for(k-=4;R<k;){for(;p(m,R,L)<=_;)R+=4;for(;p(m,k,L)>_;)k-=4;if(R>=k)break;const T=g[R>>2];g[R>>2]=g[k>>2],g[k>>2]=T,R+=4,k-=4}for(;p(m,R,L)>_;)R-=4;return R+4}function p(m,g,R){return m[g]*R[0]+m[g+1]*R[1]+m[g+2]*R[2]+m[g+3]*R[3]}function y(m,g,R){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=[0,0,0,0],_=R-g>>2;for(let T=g;T<R;T+=4){const O=m[T]*.00392156862745098,S=m[T+1]*(1/255),w=m[T+2]*(1/255),I=m[T+3]*(1/255);L[0]+=O,L[1]+=S,L[2]+=w,L[3]+=I,k[0]+=O*O,k[1]+=O*S,k[2]+=O*w,k[3]+=O*I,k[5]+=S*S,k[6]+=S*w,k[7]+=S*I,k[10]+=w*w,k[11]+=w*I,k[15]+=I*I}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:L,N:_}}function b(m){const{R:g}=m,{m:R}=m,{N:k}=m,L=R[0],_=R[1],T=R[2],O=R[3],S=k==0?0:1/k,w=[g[0]-L*L*S,g[1]-L*_*S,g[2]-L*T*S,g[3]-L*O*S,g[4]-_*L*S,g[5]-_*_*S,g[6]-_*T*S,g[7]-_*O*S,g[8]-T*L*S,g[9]-T*_*S,g[10]-T*T*S,g[11]-T*O*S,g[12]-O*L*S,g[13]-O*_*S,g[14]-O*T*S,g[15]-O*O*S],I=w,F=x;let P=[Math.random(),Math.random(),Math.random(),Math.random()],D=0,z=0;if(k!=0)for(let H=0;H<16&&(P=F.multVec(I,P),z=Math.sqrt(F.dot(P,P)),P=F.sml(1/z,P),!(H!=0&&Math.abs(z-D)<1e-9));H++)D=z;const W=[L*S,_*S,T*S,O*S];return{Cov:w,q:W,e:P,L:D,eMq255:F.dot(F.sml(255,W),P),eMq:F.dot(P,W),rgba:(Math.round(255*W[3])<<24|Math.round(255*W[2])<<16|Math.round(255*W[1])<<8|Math.round(255*W[0])<<0)>>>0}}var x={multVec:(m,g)=>[m[0]*g[0]+m[1]*g[1]+m[2]*g[2]+m[3]*g[3],m[4]*g[0]+m[5]*g[1]+m[6]*g[2]+m[7]*g[3],m[8]*g[0]+m[9]*g[1]+m[10]*g[2]+m[11]*g[3],m[12]*g[0]+m[13]*g[1]+m[14]*g[2]+m[15]*g[3]],dot:(m,g)=>m[0]*g[0]+m[1]*g[1]+m[2]*g[2]+m[3]*g[3],sml:(m,g)=>[m*g[0],m*g[1],m*g[2],m*g[3]]};Qe.encode=function(g,R,k,L,_,T,O){L==null&&(L=0),O==null&&(O=!1);const S=r(g,R,k,L,[!1,!1,!1,0,O,!1]);return f(S,-1),d(S,R,k,_,T)},Qe.encodeLL=function(g,R,k,L,_,T,O,S){const w={ctype:0+(L==1?0:2)+(_==0?0:4),depth:T,frames:[]},I=(L+_)*T,F=I*R;for(let P=0;P<g.length;P++)w.frames.push({rect:{x:0,y:0,width:R,height:k},img:new Uint8Array(g[P]),blend:0,dispose:1,bpp:Math.ceil(I/8),bpl:Math.ceil(F/8)});return f(w,0,!0),d(w,R,k,O,S)},Qe.encode.compress=r,Qe.encode.dither=a,Qe.quantize=E,Qe.quantize.getKDtree=A,Qe.quantize.getNearest=C})();const fo={toArrayBuffer(e,o){const i=e.width,n=e.height,t=i<<2,l=e.getContext("2d").getImageData(0,0,i,n),c=new Uint32Array(l.data.buffer),a=(32*i+31)/32<<2,d=a*n,f=122+d,r=new ArrayBuffer(f),s=new DataView(r),u=1<<20;let h,v,E,A,C=u,N=0,M=0,p=0;function y(m){s.setUint16(M,m,!0),M+=2}function b(m){s.setUint32(M,m,!0),M+=4}function x(m){M+=m}y(19778),b(f),x(4),b(122),b(108),b(i),b(-n>>>0),y(1),y(32),b(3),b(d),b(2835),b(2835),x(8),b(16711680),b(65280),b(255),b(4278190080),b(1466527264),function m(){for(;N<n&&C>0;){for(A=122+N*a,h=0;h<t;)C--,v=c[p++],E=v>>>24,s.setUint32(A+h,v<<8|E),h+=4;N++}p<c.length?(C=u,setTimeout(m,fo._dly)):o(r)}()},toBlob(e,o){this.toArrayBuffer(e,i=>{o(new Blob([i],{type:"image/bmp"}))})},_dly:9};var $e={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ii={[$e.CHROME]:16384,[$e.FIREFOX]:11180,[$e.DESKTOP_SAFARI]:16384,[$e.IE]:8192,[$e.IOS]:4096,[$e.ETC]:8192};const jn=typeof window<"u",ho=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,nn=jn&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ui=(jn||ho)&&(nn&&nn.getOriginalSymbol(window,"File")||typeof File<"u"&&File),vo=(jn||ho)&&(nn&&nn.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Gn(e,o,i=Date.now()){return new Promise(n=>{const t=e.split(","),l=t[0].match(/:(.*?);/)[1],c=globalThis.atob(t[1]);let a=c.length;const d=new Uint8Array(a);for(;a--;)d[a]=c.charCodeAt(a);const f=new Blob([d],{type:l});f.name=o,f.lastModified=i,n(f)})}function po(e){return new Promise((o,i)=>{const n=new vo;n.onload=()=>o(n.result),n.onerror=t=>i(t),n.readAsDataURL(e)})}function mo(e){return new Promise((o,i)=>{const n=new Image;n.onload=()=>o(n),n.onerror=t=>i(t),n.src=e})}function pt(){if(pt.cachedResult!==void 0)return pt.cachedResult;let e=$e.ETC;const{userAgent:o}=navigator;return/Chrom(e|ium)/i.test(o)?e=$e.CHROME:/iP(ad|od|hone)/i.test(o)&&/WebKit/i.test(o)?e=$e.IOS:/Safari/i.test(o)?e=$e.DESKTOP_SAFARI:/Firefox/i.test(o)?e=$e.FIREFOX:(/MSIE/i.test(o)||document.documentMode)&&(e=$e.IE),pt.cachedResult=e,pt.cachedResult}function go(e,o){const i=pt(),n=ii[i];let t=e,l=o,c=t*l;const a=t>l?l/t:t/l;for(;c>n*n;){const d=(n+t)/2,f=(n+l)/2;d<f?(l=f,t=f*a):(l=d*a,t=d),c=t*l}return{width:t,height:l}}function fn(e,o){let i,n;try{if(i=new OffscreenCanvas(e,o),n=i.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),n=i.getContext("2d")}return i.width=e,i.height=o,[i,n]}function bo(e,o){const{width:i,height:n}=go(e.width,e.height),[t,l]=fn(i,n);return o&&/jpe?g/.test(o)&&(l.fillStyle="white",l.fillRect(0,0,t.width,t.height)),l.drawImage(e,0,0,t.width,t.height),t}function Yt(){return Yt.cachedResult!==void 0||(Yt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Yt.cachedResult}function ln(e,o={}){return new Promise(function(i,n){let t,l;var c=function(){try{return l=bo(t,o.fileType||e.type),i([t,l])}catch(d){return n(d)}},a=function(d){try{var f=function(r){try{throw r}catch(s){return n(s)}};try{let r;return po(e).then(function(s){try{return r=s,mo(r).then(function(u){try{return t=u,function(){try{return c()}catch(h){return n(h)}}()}catch(h){return f(h)}},f)}catch(u){return f(u)}},f)}catch(r){f(r)}}catch(r){return n(r)}};try{if(Yt()||[$e.DESKTOP_SAFARI,$e.MOBILE_SAFARI].includes(pt()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(d){try{return t=d,c()}catch{return a()}},a)}catch{a()}})}function on(e,o,i,n,t=1){return new Promise(function(l,c){let a;if(o==="image/png"){let f,r,s;return f=e.getContext("2d"),{data:r}=f.getImageData(0,0,e.width,e.height),s=Qe.encode([r.buffer],e.width,e.height,4096*t),a=new Blob([s],{type:o}),a.name=i,a.lastModified=n,d.call(this)}{let f=function(){return d.call(this)};if(o==="image/bmp")return new Promise(r=>fo.toBlob(e,r)).then((function(r){try{return a=r,a.name=i,a.lastModified=n,f.call(this)}catch(s){return c(s)}}).bind(this),c);{let r=function(){return f.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:o,quality:t}).then((function(s){try{return a=s,a.name=i,a.lastModified=n,r.call(this)}catch(u){return c(u)}}).bind(this),c);{let s;return s=e.toDataURL(o,t),Gn(s,i,n).then((function(u){try{return a=u,r.call(this)}catch(h){return c(h)}}).bind(this),c)}}}function d(){return l(a)}})}function ot(e){e.width=0,e.height=0}function St(){return new Promise(function(e,o){let i,n,t,l;return St.cachedResult!==void 0?e(St.cachedResult):Gn("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return i=c,ln(i).then(function(a){try{return n=a[1],on(n,i.type,i.name,i.lastModified).then(function(d){try{return t=d,ot(n),ln(t).then(function(f){try{return l=f[0],St.cachedResult=l.width===1&&l.height===2,e(St.cachedResult)}catch(r){return o(r)}},o)}catch(f){return o(f)}},o)}catch(d){return o(d)}},o)}catch(a){return o(a)}},o)})}function yo(e){return new Promise((o,i)=>{const n=new vo;n.onload=t=>{const l=new DataView(t.target.result);if(l.getUint16(0,!1)!=65496)return o(-2);const c=l.byteLength;let a=2;for(;a<c;){if(l.getUint16(a+2,!1)<=8)return o(-1);const d=l.getUint16(a,!1);if(a+=2,d==65505){if(l.getUint32(a+=2,!1)!=1165519206)return o(-1);const f=l.getUint16(a+=6,!1)==18761;a+=l.getUint32(a+4,f);const r=l.getUint16(a,f);a+=2;for(let s=0;s<r;s++)if(l.getUint16(a+12*s,f)==274)return o(l.getUint16(a+12*s+8,f))}else{if((65280&d)!=65280)break;a+=l.getUint16(a,!1)}}return o(-1)},n.onerror=t=>i(t),n.readAsArrayBuffer(e)})}function wo(e,o){const{width:i}=e,{height:n}=e,{maxWidthOrHeight:t}=o;let l,c=e;return isFinite(t)&&(i>t||n>t)&&([c,l]=fn(i,n),i>n?(c.width=t,c.height=n/i*t):(c.width=i/n*t,c.height=t),l.drawImage(e,0,0,c.width,c.height),ot(e)),c}function Co(e,o){const{width:i}=e,{height:n}=e,[t,l]=fn(i,n);switch(o>4&&o<9?(t.width=n,t.height=i):(t.width=i,t.height=n),o){case 2:l.transform(-1,0,0,1,i,0);break;case 3:l.transform(-1,0,0,-1,i,n);break;case 4:l.transform(1,0,0,-1,0,n);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,n,0);break;case 7:l.transform(0,-1,-1,0,n,i);break;case 8:l.transform(0,-1,1,0,0,i)}return l.drawImage(e,0,0,i,n),ot(e),t}function dl(e,o,i=0){return new Promise(function(n,t){let l,c,a,d,f,r,s,u,h,v,E,A,C,N,M,p,y,b,x,m;function g(k=5){if(o.signal&&o.signal.aborted)throw o.signal.reason;l+=k,o.onProgress(Math.min(l,100))}function R(k){if(o.signal&&o.signal.aborted)throw o.signal.reason;l=Math.min(Math.max(k,l),100),o.onProgress(l)}return l=i,c=o.maxIteration||10,a=1024*o.maxSizeMB*1024,g(),ln(e,o).then((function(k){try{return[,d]=k,g(),f=wo(d,o),g(),new Promise(function(L,_){var T;if(!(T=o.exifOrientation))return yo(e).then((function(S){try{return T=S,O.call(this)}catch(w){return _(w)}}).bind(this),_);function O(){return L(T)}return O.call(this)}).then((function(L){try{return r=L,g(),St().then((function(_){try{return s=_?f:Co(f,r),g(),u=o.initialQuality||1,h=o.fileType||e.type,on(s,h,e.name,e.lastModified,u).then((function(T){try{{let S=function(){if(c--&&(M>a||M>C)){let I,F;return I=m?.95*x.width:x.width,F=m?.95*x.height:x.height,[y,b]=fn(I,F),b.drawImage(x,0,0,I,F),u*=h==="image/png"?.85:.95,on(y,h,e.name,e.lastModified,u).then(function(P){try{return p=P,ot(x),x=y,M=p.size,R(Math.min(99,Math.floor((N-M)/(N-a)*100))),S}catch(D){return t(D)}},t)}return[1]},w=function(){return ot(x),ot(y),ot(f),ot(s),ot(d),R(100),n(p)};if(v=T,g(),E=v.size>a,A=v.size>e.size,!E&&!A)return R(100),n(v);var O;return C=e.size,N=v.size,M=N,x=s,m=!o.alwaysKeepResolution&&E,(O=(function(I){for(;I;){if(I.then)return void I.then(O,t);try{if(I.pop){if(I.length)return I.pop()?w.call(this):I;I=S}else I=I.call(this)}catch(F){return t(F)}}}).bind(this))(S)}}catch(S){return t(S)}}).bind(this),t)}catch(T){return t(T)}}).bind(this),t)}catch(_){return t(_)}}).bind(this),t)}catch(L){return t(L)}}).bind(this),t)})}const ci=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let gn;function di(e,o){return new Promise((i,n)=>{gn||(gn=function(c){const a=[];return a.push(c),URL.createObjectURL(new Blob(a))}(ci));const t=new Worker(gn);t.addEventListener("message",function(c){if(o.signal&&o.signal.aborted)t.terminate();else if(c.data.progress===void 0){if(c.data.error)return n(new Error(c.data.error)),void t.terminate();i(c.data.file),t.terminate()}else o.onProgress(c.data.progress)}),t.addEventListener("error",n),o.signal&&o.signal.addEventListener("abort",()=>{n(o.signal.reason),t.terminate()}),t.postMessage({file:e,imageCompressionLibUrl:o.libURL,options:{...o,onProgress:void 0,signal:void 0}})})}function _e(e,o){return new Promise(function(i,n){let t,l,c,a,d,f;if(t={...o},c=0,{onProgress:a}=t,t.maxSizeMB=t.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof t.useWebWorker!="boolean"||t.useWebWorker,delete t.useWebWorker,t.onProgress=h=>{c=h,typeof a=="function"&&a(c)},!(e instanceof Blob||e instanceof ui))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return n(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||f)return dl(e,t).then((function(h){try{return l=h,u.call(this)}catch(v){return n(v)}}).bind(this),n);var r=(function(){try{return u.call(this)}catch(h){return n(h)}}).bind(this),s=function(h){try{return dl(e,t).then(function(v){try{return l=v,r()}catch(E){return n(E)}},n)}catch(v){return n(v)}};try{return t.libURL=t.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",di(e,t).then(function(h){try{return l=h,r()}catch{return s()}},s)}catch{s()}function u(){try{l.name=e.name,l.lastModified=e.lastModified}catch{}try{t.preserveExif&&e.type==="image/jpeg"&&(!t.fileType||t.fileType&&t.fileType===e.type)&&(l=co(e,l))}catch{}return i(l)}})}_e.getDataUrlFromFile=po,_e.getFilefromDataUrl=Gn,_e.loadImage=mo,_e.drawImageInCanvas=bo,_e.drawFileInCanvas=ln,_e.canvasToFile=on,_e.getExifOrientation=yo,_e.handleMaxWidthOrHeight=wo,_e.followExifOrientation=Co,_e.cleanupCanvasMemory=ot,_e.isAutoOrientationInBrowser=St,_e.approximateBelowMaximumCanvasSizeOfBrowser=go,_e.copyExifWithoutOrientation=co,_e.getBrowserName=pt,_e.version="2.0.2";const fi={class:"container"},hi={key:0,class:"text-center"},vi={key:0,class:"compression-settings"},pi={class:"text-gray-600"},mi={key:1,class:"compression-results mt-6"},gi={class:"mt-4 text-right"},bi={class:"preview-container"},yi={class:"preview-item"},wi={class:"preview-item"},Ci=10*1024*1024,Si={__name:"compress",setup(e){const o=$([]),i=$([]),n=$(80),t=$(!1),l=$(!1),c=$(""),a=$(""),d=["image/jpeg","image/png","image/webp"],f=p=>{const y=p.raw;y&&s(y)&&o.value.push(p)},r=p=>{const y=o.value.findIndex(x=>x.uid===p.uid);y>-1&&o.value.splice(y,1);const b=i.value.findIndex(x=>x.name===p.name);b>-1&&i.value.splice(b,1)},s=p=>d.includes(p.type)?p.size>Ci?(Wt.error("图片大小不能超过 10MB"),!1):!0:(Wt.error("请上传 JPG、PNG 或 WebP 格式的图片"),!1),u=()=>{o.value.length},h=async()=>{if(o.value.length!==0){t.value=!0;try{for(const p of o.value){const y=await v(p.raw);i.value.push({name:p.name,originalSize:p.raw.size,compressedSize:y.size,originalUrl:URL.createObjectURL(p.raw),compressedUrl:URL.createObjectURL(y)})}}catch{Wt.error("压缩过程中发生错误")}finally{t.value=!1}}},v=async p=>{const y={maxSizeMB:1,maxWidthOrHeight:2048,useWebWorker:!0,maxIteration:10,quality:n.value/100};try{return await _e(p,y)}catch(b){throw Wt.error("图片压缩失败"),b}};i.value.forEach(p=>{URL.revokeObjectURL(p.compressedUrl),URL.revokeObjectURL(p.originalUrl)});const E=p=>{if(p===0)return"0 B";const y=1024,b=["B","KB","MB","GB"],x=Math.min(Math.floor(Math.log(p)/Math.log(y)),b.length-1);return parseFloat((p/Math.pow(y,x)).toFixed(2))+" "+b[x]},A=p=>{const y=p.originalSize-p.compressedSize;return Math.round(y/p.originalSize*100)},C=p=>{c.value=p.originalUrl,a.value=p.compressedUrl,l.value=!0},N=p=>{const y=document.createElement("a");y.href=p.compressedUrl,y.download=`compressed_${p.name}`,y.click()},M=()=>{i.value.forEach(p=>{N(p)})};return(p,y)=>{const b=Bt,x=pr,m=wr,g=nr,R=tr,k=gr,L=br,_=mr,T=Hs,O=yr,S=Us,w=Sr,I=li,F=vr;return Q(),ae("div",fi,[J(F,null,{header:te(()=>y[2]||(y[2]=[oe("div",{class:"text-center"},[oe("span",{class:"text-xl font-medium"},"图片压缩")],-1)])),default:te(()=>[J(x,{class:"upload-area",drag:"",multiple:"","auto-upload":!1,"show-file-list":!0,accept:"image/*","on-change":f,"on-remove":r,"file-list":o.value},{trigger:te(()=>[t.value?Le("",!0):(Q(),ae("div",hi,[J(b,{class:"el-icon--upload mx-auto block"},{default:te(()=>[J(B(er))]),_:1}),y[3]||(y[3]=oe("div",{class:"el-upload__text"},[Ye(" 拖拽图片到此处或 "),oe("em",null,"点击上传")],-1)),y[4]||(y[4]=oe("div",{class:"text-sm text-gray-400 mt-2"},"支持 JPG、PNG、WebP 格式",-1))]))]),_:1},8,["file-list"]),o.value.length>0?(Q(),ae("div",vi,[J(_,null,{default:te(()=>[J(k,{label:"压缩质量",style:{"min-width":"400px"}},{default:te(()=>[J(R,{gutter:20,style:{width:"100%"}},{default:te(()=>[J(g,{span:18},{default:te(()=>[J(m,{modelValue:n.value,"onUpdate:modelValue":y[0]||(y[0]=P=>n.value=P),min:1,max:100,"format-tooltip":P=>`${P}%`,onInput:u},null,8,["modelValue","format-tooltip"])]),_:1}),J(g,{span:5,offset:1,class:"text-right"},{default:te(()=>[oe("span",pi,Ve(n.value)+"%",1)]),_:1})]),_:1})]),_:1}),J(L,{type:"primary",onClick:h,loading:t.value,disabled:o.value.length===0},{default:te(()=>y[5]||(y[5]=[Ye(" 开始压缩 ")])),_:1},8,["loading","disabled"])]),_:1})])):Le("",!0),i.value.length>0?(Q(),ae("div",mi,[J(S,{data:i.value,style:{width:"100%"}},{default:te(()=>[J(T,{label:"文件名",prop:"name"}),J(T,{label:"原始大小"},{default:te(({row:P})=>[Ye(Ve(E(P.originalSize)),1)]),_:1}),J(T,{label:"压缩后大小"},{default:te(({row:P})=>[Ye(Ve(E(P.compressedSize)),1)]),_:1}),J(T,{label:"压缩率"},{default:te(({row:P})=>[Ye(Ve(A(P))+"% ",1)]),_:1}),J(T,{label:"操作",width:"200"},{default:te(({row:P})=>[J(O,null,{default:te(()=>[J(L,{type:"primary",link:"",onClick:D=>N(P)},{default:te(()=>y[6]||(y[6]=[Ye(" 下载 ")])),_:2},1032,["onClick"]),J(L,{type:"primary",link:"",onClick:D=>C(P)},{default:te(()=>y[7]||(y[7]=[Ye(" 预览 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),oe("div",gi,[J(L,{type:"primary",onClick:M,disabled:i.value.length===0},{default:te(()=>y[8]||(y[8]=[Ye(" 下载全部 ")])),_:1},8,["disabled"])])])):Le("",!0),J(I,{modelValue:l.value,"onUpdate:modelValue":y[1]||(y[1]=P=>l.value=P),title:"图片预览",width:"80%","destroy-on-close":""},{default:te(()=>[oe("div",bi,[oe("div",yi,[y[9]||(y[9]=oe("h3",{class:"text-center mb-2"},"原图",-1)),J(w,{src:c.value,fit:"contain",class:"preview-image"},null,8,["src"])]),oe("div",wi,[y[10]||(y[10]=oe("h3",{class:"text-center mb-2"},"压缩后",-1)),J(w,{src:a.value,fit:"contain",class:"preview-image"},null,8,["src"])])])]),_:1},8,["modelValue"])]),_:1})])}}},Li=Jo(Si,[["__scopeId","data-v-fddbe225"]]);export{Li as default};
